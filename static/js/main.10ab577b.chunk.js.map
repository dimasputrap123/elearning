{"version":3,"sources":["container/page/JoinPage/styles.js","config/redux/action/room.js","config/redux/types.js","config/redux/selector/stateSelector.js","config/redux/reducer/authReducer.js","config/redux/reducer/stateReducer.js","config/api/url.js","config/redux/action/state.js","config/api/request.js","config/redux/store/index.js","config/logic/authLogic.js","config/redux/action/auth.js","config/logic/roomLogic.js","config/logic/index.js","config/redux/reducer/roomReducer.js","config/redux/reducer/roomPersistReducer.js","container/template/ControlContext/ControlContext.js","helper/stateHelper.js","container/page/JoinPage/index.js","container/page/JoinPage/JoinPage.jsx","container/page/Loginpage/styles.js","container/page/Loginpage/index.js","container/page/Loginpage/LoginPage.jsx","container/page/Other2Page/index.js","container/page/Other2Page/Other2Page.jsx","components/organism/dialog/DialogSelectDevice/index.js","components/organism/dialog/DialogSelectDevice/DialogSelectDevice.jsx","components/organism/dialog/DialogSendMessage/index.js","components/organism/dialog/DialogSendMessage/DialogSendMessage.jsx","components/organism/ListParticipant/index.js","components/organism/ListParticipant/ListParticipant.jsx","components/molecules/CardQuestion/index.js","components/molecules/CardQuestion/CardQuestion.jsx","components/organism/ListQuestion/index.js","components/organism/ListQuestion/ListQuestion.jsx","components/molecules/SubsFrame/index.js","components/molecules/SubsFrame/SubsFrame.jsx","opentok/createSession.js","opentok/OTSession.js","opentok/OTPublisher.js","opentok/OTSubscriberContext.js","opentok/OTStreams.js","opentok/OTSubscriber.js","opentok/index.js","components/atoms/NoVideo/NoVideo.jsx","components/organism/Publisher/Publisher.jsx","components/organism/Publisher/index.js","components/organism/ListSpeaker/index.js","components/organism/ListSpeaker/ListSpeaker.jsx","components/organism/roomControl/ExtraControl/index.js","components/organism/roomControl/ExtraControl/ExtraControl.jsx","components/atoms/CircleButton/CircleButton.jsx","components/atoms/CircleButton/index.js","components/molecules/ControlButton/ControlButton.jsx","components/molecules/ControlButton/index.js","components/organism/roomControl/MainControl/index.js","components/organism/roomControl/MainControl/MainControl.jsx","components/organism/Speaker/index.js","components/organism/Speaker/Speaker.jsx","container/page/RoomPage/RoomPage.jsx","container/page/index.js","config/router/PrivateRoute.jsx","config/router/PublicRoute.jsx","components/organism/dialog/DialogAlert/DialogAlert.jsx","components/organism/dialog/DialogAlert/index.js","container/template/withDialog/index.js","container/template/withDialog/withDialog.js","components/organism/dialog/DialogCustom/DialogCustom.jsx","components/organism/dialog/DialogCustom/index.js","config/router/RouteLeavingConfirm.jsx","config/router/RouterCollection.jsx","App.js","index.js"],"names":["wrapper","width","position","top","left","transform","border","display","flexDirection","padding","circular","marginTop","marginLeft","room_p_rd","payload","type","checkLoadingStatus","createSelector","state","stateReducer","tmp_result","_","_key","_removeTmp","tmp","filter","e","key","length","loading_stack","includes","initiate","login_status","authReducer","action","baseUrl","set_loading_rd","loading_done_rd","set_tmp_rd","remove_tmp_rd","status","requestPost","url","data","a","set_tmp","timeout","formData","FormData","Object","keys","forEach","el","Array","isArray","el2","append","message","token","Cookies","get","store","getState","console","log","actions","dispatch","axios","post","headers","Authorization","validateStatus","baseURL","response","push","checkServerStatus","checkConnectionStatus","checkAuthStatus","msg","batchActions","messages","err","error","JSON","parse","stringify","hasOwnProperty","doLogin","createLogic","latest","validate","allow","reject","email","password","process","done","then","v4","set","access_token","expires","catch","doLogout","remove","joinRoom","opentok_room_id","name","role","sessionId","session_id","participant","endCall","session","disconnect","values","authLogic","stateLogic","roomLogic","speakerStream","moderatorStream","subs","connectionStatus","roomReducer","apiKey","videoSelected","audioSelected","title","roomPersistReducer","logicMiddleware","i","logic","createLogicMiddleware","ContextType","rootReducer","combineReducers","persistConfig","storage","whitelist","persistedReducer","persistReducer","createStore","enableBatching","compose","applyMiddleware","composeWithDevTools","persistor","persistStore","stateHelper","getSpesificTmp","removeTmp","j","JoinPage","connect","loading","join_lc","props","useStyles","makeStyles","styles","history","useHistory","classes","useForm","handleSubmit","register","React","useState","setState","useEffect","onSubmit","dialogSetup","alertAppear","nameKey","className","TextField","placeholder","variant","inputRef","Select","value","fullWidth","onChange","target","MenuItem","Button","disabled","color","CircularProgress","size","LoginPage","login_lc","window","screen","availWidth","availHeight","Other2Page","handleBack","replace","acceptLeave","onClick","goBack","createContext","Provider","Context","Consumer","handleClick","showListQuestion","showListSubs","publishAudio","publishVideo","screenShare","showDevices","showSendMessage","end_call_lc","this","children","Component","ControlContext","withRouter","DialogSelectDevice","useContext","video","audio","handleChange","OT","getDevices","devices","elm","kind","once","deviceId","Dialog","open","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","map","label","DialogActions","autoFocus","DialogSendMessage","signal","multiline","rows","ListParticipant","classNames","Divider","connection","CardQuestion","item","Card","IconButton","ListQuestion","Drawer","anchor","SubsFrame","createSession","onStreamsUpdated","onSignalUpdated","onConnect","onError","options","Error","streams","onStreamCreated","event","findIndex","stream","onStreamDestroyed","index","splice","onSignal","eventHandlers","streamCreated","streamDestroyed","initSession","on","off","OTSession","sessionHelper","prevProps","destroySession","defaultProps","childContextTypes","PropTypes","arrayOf","object","shape","subscribe","func","unsubscribe","require","OTPublisher","context","sessionConnectedHandler","publishToSession","publisher","streamCreatedHandler","lastStreamId","createPublisher","prevState","cast","defaultValue","undefined","shouldUpdate","properties","updatePublisherProperty","destroyPublisher","publisherId","unpublish","destroy","publish","errorHandler","onPublish","container","insertDefaultUI","document","createElement","setAttribute","node","appendChild","initPublisher","onInit","handles","omitBy","isNil","style","ref","contextTypes","connectionId","string","OTSubscriberContext","OTStreams","child","Children","only","childrenWithContextWrapper","cloneElement","streamId","OTSubscriber","subscriber","currentRetryAttempt","maxRetryAttempts","retryAttemptTimeout","createSubscriber","Type","updateSubscriberProperty","previous","Boolean","current","destroySubscriber","subscriberId","retry","handleRetrySubscriber","onSubscribe","setTimeout","NoVideo","connected","iconClassName","data-test","Publisher","code","reason","height","buttonDisplayMode","resolution","videoSource","audioSource","contextType","ListSpeaker","subscribeToAudio","subscribeToVideo","ExtraControl","CircleButton","icon","root","minWidth","backgroundColor","borderRadius","transition","ControlButton","MainControl","Speaker","RoomPage","room_rd","add_message_rd","from","pages","component","path","showLeaveConfirm","manualLeave","Loginpage","rest","render","location","pathname","to","DialogAlert","buttonText","needIcon","useSelector","maxWidth","dividers","withDialog","WrapperComponent","setup","withStyles","theme","spacing","MuiDialogContent","margin","justifyContent","MuiDialogActions","DialogCustom","handleClose","titleClass","text","textClass","textColorClass","content","showCloseButton","modalClass","actionClass","buttonClass","onCancel","RouteLeavingConfirm","onBackButtonEvent","preventDefault","isBackButtonClicked","showConfirmation","modalVisible","go","onUnload","handleModal","pushState","handleCancel","addEventListener","removeEventListener","dialog","obj","public","PublicRouter","private","PrivateRouter","Router","otherProps","App","exact","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.10ab577b.chunk.js","sourcesContent":["export default {\r\n    wrapper: {\r\n      width: 500,\r\n      position: \"absolute\",\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      transform: \"translate(-50%,-50%)\",\r\n      border: \"1px solid black\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      padding: 20,\r\n    },\r\n    circular: {\r\n      position: \"absolute\",\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      marginTop: -12,\r\n      marginLeft: -12,\r\n    },\r\n  };\r\n  ","import * as types from \"../types\";\r\nexport const join_lc = (payload) => ({ type: types.JOIN_LC, payload });\r\nexport const room_rd = (payload) => ({ type: types.ROOM_RD, payload });\r\nexport const room_p_rd = (payload) => ({ type: types.ROOM_P_RD, payload });\r\nexport const add_message_rd = (payload) => ({\r\n  type: types.ADD_MESSAGE_RD,\r\n  payload,\r\n});\r\nexport const send_message_lc = (payload) => ({\r\n  type: types.SEND_MESSAGE_LC,\r\n  payload,\r\n});\r\nexport const end_call_lc = (payload) => ({ type: types.END_CALL_LC, payload });\r\nexport const end_call_rd = () => ({ type: types.END_CALL_RD });\r\n","/**\r\n * logic => [NAME]_LC\r\n * reducer => [NAME]_RD\r\n */\r\n\r\n//AUTH\r\nexport const AUTH_RD = \"AUTH_RD\";\r\nexport const LOGIN_LC = \"LOGIN_LC\";\r\nexport const LOGOUT_LC = \"LOGOUT_LC\";\r\nexport const LOGOUT_RD = \"LOGOUT_RD\";\r\n\r\n//ROOM\r\nexport const ROOM_RD = \"ROOW_RD\";\r\nexport const ROOM_P_RD = \"ROOM_P_RD\";\r\nexport const ADD_MESSAGE_RD = \"ADD_MESSAGE_RD\";\r\nexport const SEND_MESSAGE_LC = \"SEND_MESSAGE_LC\";\r\nexport const END_CALL_LC = \"END_CALL_LC\";\r\nexport const END_CALL_RD = \"END_CALL_RD\";\r\nexport const JOIN_LC = \"JOIN_LC\";\r\n\r\n//state\r\nexport const STATE_RD = \"STATE_RD\";\r\nexport const SET_LOADING_RD = \"SET_LOADING_RD\";\r\nexport const LOADING_DONE_RD = \"LOADING_DONE_RD\";\r\nexport const SET_TMP_RD = \"SET_TMP_RD\";\r\nexport const REMOVE_TMP_RD = \"REMOVE_TMP_RD\";\r\n","import { createSelector } from \"reselect\";\r\n/**\r\n * getSpesificTmp\r\n * @param {object} state\r\n * {\r\n *    stateReducer: object\r\n * }\r\n * @param {string} key\r\n * @return {object}\r\n * {\r\n *    status: boolean => status dari result true/false\r\n *    key: string => identifier\r\n *    msg: string => messages dari result API\r\n *    data: any => data dari result API\r\n * }\r\n */\r\nexport const getSpesificTmp = createSelector(\r\n  (state) => state.stateReducer.tmp_result,\r\n  (_, _key) => _key,\r\n  (tmp_result, _key, _removeTmp) => {\r\n    const tmp = tmp_result.filter((e) => e.key === _key);\r\n    return tmp.length > 0 ? tmp[0] : null;\r\n  }\r\n);\r\n\r\n/**\r\n * checkLoadingStatus\r\n * @param (array) loading_stack\r\n * @param (string) key\r\n * @return (boolean)\r\n */\r\nexport const checkLoadingStatus = createSelector(\r\n  (state) => state.stateReducer.loading_stack,\r\n  (_, _key) => _key,\r\n  (loading_stack, _key) => {\r\n    return loading_stack.includes(_key);\r\n  }\r\n);\r\n","import * as types from \"../types\";\r\n\r\nconst initiate = {\r\n  login_status: false,\r\n  key: \"\",\r\n};\r\n\r\nconst authReducer = (state = initiate, action) => {\r\n  switch (action.type) {\r\n    case types.AUTH_RD:\r\n      return { ...state, ...action.payload };\r\n    case types.LOGOUT_RD:\r\n      return { ...state, ...initiate };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import * as types from \"../types\";\r\n\r\nconst initiate = {\r\n  loading_stack: [],\r\n  tmp_result: [],\r\n};\r\n\r\nconst stateReducer = (state = initiate, action) => {\r\n  switch (action.type) {\r\n    case types.STATE_RD: {\r\n      return { ...state, ...action.payload };\r\n    }\r\n    case types.SET_LOADING_RD: {\r\n      return {\r\n        ...state,\r\n        loading_stack: [...state.loading_stack, action.payload],\r\n      };\r\n    }\r\n    case types.LOADING_DONE_RD: {\r\n      return {\r\n        ...state,\r\n        loading_stack: state.loading_stack.filter((e) => e !== action.payload),\r\n      };\r\n    }\r\n    case types.SET_TMP_RD: {\r\n      return {\r\n        ...state,\r\n        tmp_result: [...state.tmp_result, action.payload],\r\n      };\r\n    }\r\n    case types.REMOVE_TMP_RD: {\r\n      return {\r\n        ...state,\r\n        tmp_result: state.tmp_result.filter((e) => e.key !== action.payload),\r\n      };\r\n    }\r\n    case types.LOGOUT_RD: {\r\n      return { ...state, ...initiate };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default stateReducer;\r\n","export const baseUrl = \"http://e-learning.syailendra.xyz/api/\";\r\nexport default {\r\n  login: \"login\",\r\n  join: \"opentok/userlogin\",\r\n};\r\n","import * as types from \"../types\";\r\n\r\nexport const state_rd = (payload) => ({\r\n  type: types.STATE_RD,\r\n  payload,\r\n});\r\nexport const set_loading_rd = (payload) => ({\r\n  type: types.SET_LOADING_RD,\r\n  payload,\r\n});\r\nexport const loading_done_rd = (payload) => ({\r\n  type: types.LOADING_DONE_RD,\r\n  payload,\r\n});\r\nexport const set_tmp_rd = (payload) => ({\r\n  type: types.SET_TMP_RD,\r\n  payload,\r\n});\r\nexport const remove_tmp_rd = (payload) => ({\r\n  type: types.REMOVE_TMP_RD,\r\n  payload,\r\n});\r\n","import axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport { baseUrl } from \"./url\";\r\nimport { store } from \"../redux/store\";\r\nimport {\r\n  set_tmp_rd,\r\n  set_loading_rd,\r\n  loading_done_rd,\r\n} from \"../redux/action/state\";\r\nimport { batchActions } from \"redux-batched-actions\";\r\nfunction status(status) {\r\n  return true;\r\n}\r\n\r\n/**\r\n *\r\n * @param {string} url => url api\r\n * @param {object} data => data yg dikirim ke api\r\n * @param {string} key => key untuk loading dan tmp_result\r\n * @param {boolean} set_tmp => kondisi langsung ke set_tmp\r\n */\r\n\r\nexport const requestGet = async (\r\n  url,\r\n  data,\r\n  key = \"default\",\r\n  set_tmp = false\r\n) => {\r\n  const timeout = 15000;\r\n  if (data) {\r\n    url += \"?\";\r\n    Object.keys(data).forEach((el, i) => {\r\n      if (Array.isArray(data[el])) {\r\n        data[el].forEach((el2, i2) => {\r\n          url += el + \"=\" + el2;\r\n          if (i2 + 1 !== data[el].length) {\r\n            url += \"&\";\r\n          }\r\n        });\r\n      } else {\r\n        url += el + \"=\" + data[el];\r\n      }\r\n      if (Object.keys(data).length !== i + 1) {\r\n        url += \"&\";\r\n      }\r\n    });\r\n  }\r\n  const token = Cookies.get(store.getState().authReducer.key);\r\n  console.log(\"call: \", baseUrl + url);\r\n  let actions = [];\r\n  store.dispatch(set_loading_rd(key));\r\n  try {\r\n    const response = await axios({\r\n      url,\r\n      method: \"get\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      timeout,\r\n      baseURL: baseUrl,\r\n      validateStatus: status,\r\n    });\r\n    actions.push(loading_done_rd(key));\r\n    return checkServerStatus(response, key, actions, set_tmp);\r\n  } catch (err) {\r\n    checkConnectionStatus(err, key, timeout);\r\n  }\r\n};\r\n\r\n/**\r\n *\r\n * @param {string} url => url api\r\n * @param {object} data => data yg dikirim ke api\r\n * @param {string} key => key untuk loading dan tmp_result\r\n * @param {boolean} set_tmp => set result api langsung ke tmp_result\r\n */\r\n\r\nexport const requestPost = async (\r\n  url,\r\n  data,\r\n  key = \"default\",\r\n  set_tmp = false\r\n) => {\r\n  let timeout = 30000;\r\n  let formData = new FormData();\r\n  if (data !== null) {\r\n    Object.keys(data).forEach((el) => {\r\n      if (Array.isArray(data[el])) {\r\n        data[el].forEach((el2) => {\r\n          formData.append(el, el2);\r\n        });\r\n      } else {\r\n        formData.append(el, data[el]);\r\n      }\r\n    });\r\n  } else {\r\n    const err = { message: \"require data to post\" };\r\n    throw err.message;\r\n  }\r\n  const token = Cookies.get(store.getState().authReducer.key);\r\n  console.log(\"call: \", baseUrl + url);\r\n  let actions = [];\r\n  store.dispatch(set_loading_rd(key));\r\n  try {\r\n    const response = await axios.post(url, formData, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      validateStatus: status,\r\n      baseURL: baseUrl,\r\n      timeout,\r\n    });\r\n    actions.push(loading_done_rd(key));\r\n    return checkServerStatus(response, key, actions, set_tmp);\r\n  } catch (err_1) {\r\n    checkConnectionStatus(err_1, key, timeout);\r\n  }\r\n};\r\n\r\n/**\r\n * fungsi check status:\r\n * @param (object) response\r\n * @param (string ) key\r\n * @param (boolean) set_tmp\r\n * @return (object)\r\n */\r\n\r\nconst checkServerStatus = (response, key, actions, set_tmp) => {\r\n  if (response.status === 500) {\r\n    console.log(\"server error\");\r\n    actions.push(\r\n      set_tmp_rd({\r\n        status: false,\r\n        key: \"server_error\",\r\n        msg: \"Server Error\",\r\n        data: null,\r\n      })\r\n    );\r\n    store.dispatch(batchActions(actions));\r\n  } else {\r\n    return checkAuthStatus(response.data, key, actions, set_tmp);\r\n  }\r\n};\r\n\r\nconst checkAuthStatus = (data, key, actions, set_tmp) => {\r\n  if (data.status === 401) {\r\n    actions.push(\r\n      set_tmp_rd({\r\n        status: false,\r\n        key: \"session_timeout\",\r\n        msg: \"Session timeout\",\r\n        data: null,\r\n      })\r\n    );\r\n    store.dispatch(batchActions(actions));\r\n  } else if (data.status) {\r\n    if (set_tmp) {\r\n      actions.push(set_tmp_rd({ status: true, key, msg: data.messages, data }));\r\n    }\r\n    console.log(\"response: \", data);\r\n    const rst = { response: data, actions };\r\n    return rst;\r\n  } else {\r\n    console.log(\"response err: \", data);\r\n    actions.push(set_tmp_rd({ status: false, key, msg: data.messages, data }));\r\n    const rst = { response: data, actions };\r\n    throw rst;\r\n  }\r\n};\r\n\r\nconst checkConnectionStatus = (err, key, timeout) => {\r\n  let error = JSON.parse(JSON.stringify(err));\r\n  if (error.hasOwnProperty(\"stack\")) {\r\n    const { message } = error;\r\n    let actions = [loading_done_rd(key)];\r\n    if (\r\n      message === `timeout of ${timeout}ms exceeded` ||\r\n      message === \"Network Error\"\r\n    ) {\r\n      actions.push(\r\n        set_tmp_rd({\r\n          status: false,\r\n          key: \"network_error\",\r\n          msg: message,\r\n          data: error,\r\n        })\r\n      );\r\n    }\r\n    const rst = { response: \"network error\", actions };\r\n    throw rst;\r\n  } else {\r\n    err.actions.push(loading_done_rd(key));\r\n    throw err;\r\n  }\r\n};\r\n","import { combineReducers, createStore, applyMiddleware, compose } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { persistReducer, persistStore } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport authReducer from \"../reducer/authReducer\";\r\nimport stateReducer from \"../reducer/stateReducer\";\r\nimport logic from \"../../logic\";\r\nimport { createLogicMiddleware } from \"redux-logic\";\r\nimport { enableBatching } from \"redux-batched-actions\";\r\nimport roomReducer from \"../reducer/roomReducer\";\r\nimport roomPersistReducer from \"../reducer/roomPersistReducer\";\r\n// const logicMiddleware = createLogicMiddleware(logic);\r\nlet logicMiddleware = [];\r\nfor (let i = 0; i < logic.length; i++) {\r\n  logicMiddleware.push(createLogicMiddleware(logic[i]));\r\n}\r\nconst rootReducer = combineReducers({\r\n  authReducer: authReducer,\r\n  stateReducer: stateReducer,\r\n  roomReducer: roomReducer,\r\n  roomPersistReducer: roomPersistReducer,\r\n});\r\n\r\nconst persistConfig = {\r\n  key: \"93F35B4973155\",\r\n  storage,\r\n  whitelist: [\"authReducer\", \"roomPersistReducer\"],\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\nconst store = createStore(\r\n  enableBatching(persistedReducer),\r\n  compose(\r\n    // applyMiddleware(logicMiddleware),\r\n    applyMiddleware(...logicMiddleware),\r\n    composeWithDevTools(applyMiddleware())\r\n  )\r\n);\r\n\r\nconst persistor = persistStore(store);\r\nexport { store, persistor };\r\n","import * as types from \"../redux/types\";\r\nimport { auth_rd, logout_rd } from \"../redux/action/auth\";\r\nimport { requestPost } from \"../api/request\";\r\nimport { createLogic } from \"redux-logic\";\r\nimport url from \"../api/url\";\r\nimport Cookies from \"js-cookie\";\r\n// import { room_p_rd } from \"../redux/action/room\";\r\nimport { batchActions } from \"redux-batched-actions\";\r\nimport { v4 } from \"uuid\";\r\n\r\nexport const doLogin = createLogic({\r\n  type: types.LOGIN_LC,\r\n  latest: true,\r\n  validate({ action }, allow, reject) {\r\n    const { email, password } = action.payload;\r\n    if (email === \"\" || password === \"\") {\r\n      reject(action);\r\n    } else {\r\n      allow(action);\r\n    }\r\n  },\r\n  process({ action }, dispatch, done) {\r\n    const key = \"login_lc\";\r\n    requestPost(url.login, action.payload, key, true)\r\n      .then(({ response, actions }) => {\r\n        console.log(response);\r\n        const key = v4();\r\n        dispatch(\r\n          batchActions([\r\n            ...actions,\r\n            auth_rd({ login_status: true, key }),\r\n            // room_p_rd({ ...action.payload }),\r\n          ])\r\n        );\r\n        Cookies.set(key, response.data.access_token, { expires: 1 });\r\n      })\r\n      .catch(({ response, actions }) => {\r\n        dispatch(batchActions(actions));\r\n        console.log(response);\r\n      })\r\n      .then(done);\r\n  },\r\n});\r\n\r\nexport const doLogout = createLogic({\r\n  type: types.LOGOUT_LC,\r\n  latest: true,\r\n  validate({ getState, action }, allow, reject) {\r\n    const { login_status } = getState().authReducer;\r\n    if (login_status) {\r\n      allow(action);\r\n    } else {\r\n      reject(action);\r\n    }\r\n  },\r\n  process({ action, getState }, dispatch, done) {\r\n    const { key } = getState().authReducer.key;\r\n    Cookies.remove(key);\r\n    dispatch(logout_rd());\r\n    done();\r\n  },\r\n});\r\n","/**\r\n * name action lowercase dari types\r\n * do_login_lc => DO_LOGIN_LC\r\n */\r\n\r\nimport * as types from \"../types\";\r\n\r\nexport const login_lc = (payload) => ({ type: types.LOGIN_LC, payload });\r\nexport const logout_lc = () => ({ type: types.LOGOUT_LC });\r\nexport const logout_rd = () => ({ type: types.LOGOUT_RD });\r\nexport const auth_rd = (payload) => ({ type: types.AUTH_RD, payload });\r\n","import * as types from \"../redux/types\";\r\nimport { createLogic } from \"redux-logic\";\r\nimport { batchActions } from \"redux-batched-actions\";\r\nimport { end_call_rd } from \"config/redux/action/room\";\r\nimport url from \"../api/url\";\r\nimport { requestPost } from \"config/api/request\";\r\nimport { room_p_rd } from \"../redux/action/room\";\r\n\r\nexport const joinRoom = createLogic({\r\n  type: types.JOIN_LC,\r\n  latest: true,\r\n  validate({ action }, allow, reject) {\r\n    const { opentok_room_id, password, name, role } = action.payload;\r\n    if (\r\n      opentok_room_id === \"\" ||\r\n      password === \"\" ||\r\n      name === \"\" ||\r\n      role === \"\"\r\n    ) {\r\n      reject(action);\r\n    } else {\r\n      allow(action);\r\n    }\r\n  },\r\n  process({ action }, dispatch, done) {\r\n    const key = \"join_lc\";\r\n    requestPost(url.join, action.payload, key, true)\r\n      .then(({ response, actions }) => {\r\n        // console.log(response);\r\n        dispatch(\r\n          batchActions([\r\n            ...actions,\r\n            room_p_rd({\r\n              sessionId: response.data.session_id,\r\n              token: response.data.participant.token,\r\n              name: action.payload.name,\r\n              role: action.payload.role,\r\n            }),\r\n          ])\r\n        );\r\n      })\r\n      .catch(({ response, actions }) => {\r\n        dispatch(batchActions(actions));\r\n        console.log(response);\r\n      })\r\n      .then(done);\r\n  },\r\n});\r\n\r\nexport const endCall = createLogic({\r\n  type: types.END_CALL_LC,\r\n  latest: true,\r\n  process({ action }, dispatch, done) {\r\n    if (action.payload !== null) {\r\n      action.payload.session.disconnect();\r\n    }\r\n    dispatch(end_call_rd());\r\n    action.payload.push();\r\n    done();\r\n  },\r\n});\r\n","import * as authLogic from \"./authLogic\";\r\nimport * as stateLogic from \"./stateLogic\";\r\nimport * as roomLogic from \"./roomLogic\";\r\n// export default [...Object.values(authLogic), ...Object.values(stateLogic)];\r\nexport default [\r\n  Object.values(authLogic),\r\n  Object.values(stateLogic),\r\n  Object.values(roomLogic),\r\n];\r\n","import * as types from \"../types\";\r\n\r\nconst initiate = {\r\n  speakerStream: null,\r\n  moderatorStream: null,\r\n  session: null,\r\n  subs: [],\r\n  connectionStatus: false,\r\n};\r\n\r\nconst roomReducer = (state = initiate, action) => {\r\n  switch (action.type) {\r\n    case types.ROOM_RD:\r\n      return { ...state, ...action.payload };\r\n    case types.END_CALL_RD:\r\n      return { ...state, ...initiate };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default roomReducer;\r\n","import * as types from \"../types\";\r\n\r\nconst initiate = {\r\n  sessionId: \"\",\r\n  token: \"\",\r\n  apiKey: \"46902654\",\r\n  name: \"\",\r\n  role: \"moderator\",\r\n  videoSelected: null,\r\n  audioSelected: null,\r\n  messages: [],\r\n  title: \"Sample Web RTC\",\r\n};\r\n\r\nconst roomPersistReducer = (state = initiate, action) => {\r\n  switch (action.type) {\r\n    case types.ROOM_P_RD:\r\n      return { ...state, ...action.payload };\r\n    case types.ADD_MESSAGE_RD:\r\n      return { ...state, messages: [...state.messages, action.payload] };\r\n    case types.END_CALL_RD:\r\n      return {\r\n        ...state,\r\n        sessionId: \"\",\r\n        token: \"\",\r\n        apiKey: \"46902654\",\r\n        name: \"\",\r\n        role: \"moderator\",\r\n        videoSelected: null,\r\n        audioSelected: null,\r\n        messages: [],\r\n        title: \"Sample Web RTC\",\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default roomPersistReducer;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { end_call_lc } from \"../../../config/redux/action/room\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\nlet ContextType;\r\nconst { Provider, Consumer } = (ContextType = React.createContext());\r\n\r\nclass Context extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showListQuestion: false,\r\n      showListSubs: true,\r\n      showSendMessage: false,\r\n      publishAudio: true,\r\n      publishVideo: true,\r\n      screenShare: false,\r\n      showDevices: false,\r\n    };\r\n  }\r\n  handleClick = (name) => {\r\n    switch (name) {\r\n      case \"listQuestion\":\r\n        this.setState({ showListQuestion: !this.state.showListQuestion });\r\n        break;\r\n      case \"listSubs\":\r\n        this.setState({ showListSubs: !this.state.showListSubs });\r\n        break;\r\n      case \"audioSelf\":\r\n        this.setState({ publishAudio: !this.state.publishAudio });\r\n        break;\r\n      case \"videoSelf\":\r\n        this.setState({ publishVideo: !this.state.publishVideo });\r\n        break;\r\n      case \"screenShare\":\r\n        this.setState({ screenShare: !this.state.screenShare });\r\n        break;\r\n      case \"showDevices\":\r\n        this.setState({ showDevices: !this.state.showDevices });\r\n        break;\r\n      case \"showSendMessage\":\r\n        this.setState({ showSendMessage: !this.state.showSendMessage });\r\n        break;\r\n      case \"end\":\r\n        this.props.end_call_lc({\r\n          session: this.props.session,\r\n          push: () => {\r\n            this.props.history.push(\"/\");\r\n          },\r\n        });\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <Provider value={{ ...this.state, handleClick: this.handleClick }}>\r\n        {this.props.children}\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = (state) => ({ session: state.roomReducer.session });\r\nconst ControlContext = compose(\r\n  connect(mapState, { end_call_lc }),\r\n  withRouter\r\n)(Context);\r\nexport { ControlContext, Consumer, ContextType };\r\n","import { store } from \"../config/redux/store\";\r\nimport { remove_tmp_rd } from \"../config/redux/action/state\";\r\n\r\nconst stateHelper = {\r\n  /**\r\n   * @param (array) tmp_result\r\n   * @param (string) key\r\n   * @param (boolean) removeTmp\r\n   * @return (object)\r\n   * {\r\n   *    status: boolean => status dari result true/false\r\n   *    key: string => identifier\r\n   *    msg: string => messages dari result API\r\n   *    data: any => data dari result API\r\n   * }\r\n   */\r\n  getSpesificTmp: (tmp_result, key, removeTmp = true) => {\r\n    let tmp = null;\r\n    for (let i = 0; i < tmp_result.length; i++) {\r\n      if (Array.isArray(key)) {\r\n        for (let j = 0; j < key.length; j++) {\r\n          if (tmp_result[i].key === key[j]) {\r\n            tmp = { ...tmp_result[i] };\r\n            if (removeTmp) {\r\n              store.dispatch(remove_tmp_rd(tmp.key));\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        if (tmp_result[i].key === key) {\r\n          tmp = { ...tmp_result[i] };\r\n          if (removeTmp) {\r\n            store.dispatch(remove_tmp_rd(tmp.key));\r\n          }\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return tmp;\r\n  },\r\n};\r\n\r\nexport default stateHelper;\r\n","import JoinPage from \"./JoinPage\";\r\nexport default JoinPage;\r\n","import React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport {\r\n  Button,\r\n  makeStyles,\r\n  CircularProgress,\r\n  Select,\r\n  MenuItem,\r\n} from \"@material-ui/core\";\r\nimport styles from \"./styles\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { join_lc } from \"../../../config/redux/action/room\";\r\nimport { checkLoadingStatus } from \"config/redux/selector/stateSelector\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport stateHelper from \"helper/stateHelper\";\r\nconst JoinPage = (props) => {\r\n  const useStyles = makeStyles(styles);\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const { handleSubmit, register } = useForm();\r\n  const [state, setState] = React.useState({\r\n    role: \"moderator\",\r\n  });\r\n  const onSubmit = (data, e) => {\r\n    // console.log(data);\r\n    props.dialogSetup({\r\n      alertAppear: false,\r\n      nameKey: \"join_lc\",\r\n      removeTmp: false,\r\n    });\r\n    props.join_lc({ ...data, ...state });\r\n  };\r\n  React.useEffect(() => {\r\n    let data = stateHelper.getSpesificTmp(props.tmp_result, \"join_lc\");\r\n    if (data !== null) {\r\n      if (data.status) {\r\n        history.push(\"/room\");\r\n      }\r\n    }\r\n  }, [history, props.tmp_result]);\r\n  const handleChange = ({ target: { value, name } }) => {\r\n    setState({ ...state, [name]: value });\r\n  };\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n      <div className={classes.wrapper}>\r\n        <p className=\"fs-24 fw-600\">Join Room</p>\r\n        <TextField\r\n          placeholder=\"room id\"\r\n          variant=\"outlined\"\r\n          type=\"text\"\r\n          name=\"opentok_room_id\"\r\n          className=\"mb-3\"\r\n          inputRef={register}\r\n        />\r\n        <TextField\r\n          placeholder=\"password\"\r\n          variant=\"outlined\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          className=\"mb-3\"\r\n          inputRef={register}\r\n        />\r\n        <TextField\r\n          placeholder=\"name\"\r\n          variant=\"outlined\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          className=\"mb-3\"\r\n          inputRef={register}\r\n        />\r\n        <Select\r\n          variant=\"outlined\"\r\n          value={state.role}\r\n          className=\"mb-3\"\r\n          fullWidth\r\n          name=\"role\"\r\n          onChange={handleChange}\r\n        >\r\n          <MenuItem value=\"moderator\">Moderator</MenuItem>\r\n          <MenuItem value=\"participant\">Participant</MenuItem>\r\n          <MenuItem value=\"speaker\">Speaker</MenuItem>\r\n        </Select>\r\n        <Button\r\n          disabled={props.loading}\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          type=\"submit\"\r\n          className=\"position-relative\"\r\n        >\r\n          {props.loading && (\r\n            <CircularProgress size={20} className={classes.circular} />\r\n          )}\r\n          Login\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst mapState = (state) => ({\r\n  loading: checkLoadingStatus(state, \"join_lc\"),\r\n  tmp_result: state.stateReducer.tmp_result,\r\n});\r\n\r\nexport default compose(connect(mapState, { join_lc }))(JoinPage);\r\n","export default {\r\n  wrapper: {\r\n    width: 500,\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%,-50%)\",\r\n    border: \"1px solid black\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    padding: 20,\r\n  },\r\n  circular: {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n};\r\n","import LoginPage from \"./LoginPage\";\r\nexport default LoginPage;\r\n","import React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Button, makeStyles, CircularProgress } from \"@material-ui/core\";\r\nimport styles from \"./styles\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { login_lc } from \"../../../config/redux/action/auth\";\r\nimport { checkLoadingStatus } from \"config/redux/selector/stateSelector\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nconst LoginPage = (props) => {\r\n  const useStyles = makeStyles(styles);\r\n  const classes = useStyles();\r\n  console.log(window.screen.availWidth, window.screen.availHeight);\r\n  const { handleSubmit, register } = useForm();\r\n  const onSubmit = (data, e) => {\r\n    // console.log(data);\r\n    props.dialogSetup({\r\n      alertAppear: false,\r\n      nameKey: \"login_lc\",\r\n      removeTmp: true,\r\n    });\r\n    props.login_lc({ ...data });\r\n  };\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n      <div className={classes.wrapper}>\r\n        <p className=\"fs-24 fw-600\">Login</p>\r\n        <TextField\r\n          placeholder=\"Email\"\r\n          variant=\"outlined\"\r\n          type=\"email\"\r\n          name=\"email\"\r\n          className=\"mb-3\"\r\n          inputRef={register}\r\n        />\r\n        <TextField\r\n          placeholder=\"Password\"\r\n          variant=\"outlined\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          className=\"mb-3\"\r\n          inputRef={register}\r\n        />\r\n        <Button\r\n          disabled={props.loading}\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          type=\"submit\"\r\n          className=\"position-relative\"\r\n        >\r\n          {props.loading && (\r\n            <CircularProgress size={20} className={classes.circular} />\r\n          )}\r\n          Login\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst mapState = (state) => ({\r\n  loading: checkLoadingStatus(state, \"login_lc\"),\r\n});\r\n\r\nexport default compose(connect(mapState, { login_lc }))(LoginPage);\r\n","import Other2Page from \"./Other2Page\";\r\nexport default Other2Page;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { set_tmp_rd } from \"../../../config/redux/action/state\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Other2Page = (props) => {\r\n  const history = useHistory();\r\n  const handleBack = () => {\r\n    history.replace(\"/other\");\r\n  };\r\n  React.useEffect(() => {\r\n    props.acceptLeave(handleBack);\r\n    props.dialogSetup({\r\n      alertAppear: false,\r\n      nameKey: \"example\",\r\n      removeTmp: true,\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <h1>Other2Page</h1>\r\n      <button\r\n        onClick={() => {\r\n          history.goBack();\r\n        }}\r\n      >\r\n        link\r\n      </button>\r\n      <button\r\n        onClick={() => {\r\n          props.set_tmp_rd({\r\n            status: false,\r\n            key: \"example\",\r\n            msg: \"lorem ipsum\",\r\n            data: null,\r\n          });\r\n        }}\r\n      >\r\n        modal\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(null, { set_tmp_rd })(Other2Page);\r\n","import DialogSelectDevice from \"./DialogSelectDevice\";\r\nexport default DialogSelectDevice;\r\n","import {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  MenuItem,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport { ContextType } from \"container/template/ControlContext/ControlContext\";\r\nimport React from \"react\";\r\n// import VideocamIcon from \"@material-ui/icons/Videocam\";\r\n// import MicIcon from \"@material-ui/icons/Mic\";\r\nimport OT from \"@opentok/client\";\r\nimport { room_p_rd } from \"../../../../config/redux/action/room\";\r\nimport { connect } from \"react-redux\";\r\nconst DialogSelectDevice = (props) => {\r\n  const { handleClick, showDevices } = React.useContext(ContextType);\r\n  const [state, setState] = React.useState({\r\n    video: [],\r\n    audio: [],\r\n    videoSelected: \"\",\r\n    audioSelected: \"\",\r\n  });\r\n  const { video, audio, videoSelected, audioSelected } = state;\r\n  const handleChange = ({ target: { value, name } }) => {\r\n    setState({ ...state, [name]: value });\r\n  };\r\n  const handleSubmit = () => {\r\n    props.room_p_rd({ videoSelected, audioSelected });\r\n    handleClick(\"showDevices\");\r\n  };\r\n  React.useEffect(() => {\r\n    if (showDevices) {\r\n      console.log(\"tes\");\r\n    //   navigator.mediaDevices\r\n    //     .enumerateDevices()\r\n    //     .then((devices) => {\r\n    //       const video = devices.filter((elm) => elm.kind === \"videoInput\");\r\n    //       const audio = devices.filter((elm) => elm.kind === \"audioInput\");\r\n    //       setState((state) => ({ ...state, video, audio, once: false }));\r\n    //       if (videoSelected === \"\") {\r\n    //         setState((state) => ({\r\n    //           ...state,\r\n    //           videoSelected: video[0].deviceId,\r\n    //         }));\r\n    //       }\r\n    //       if (audioSelected === \"\") {\r\n    //         setState((state) => ({\r\n    //           ...state,\r\n    //           audioSelected: audio[0].deviceId,\r\n    //         }));\r\n    //       }\r\n    //     })\r\n    //     .catch((err) => {\r\n    //       console.log(err);\r\n    //     });\r\n        OT.getDevices((error, devices) => {\r\n          const video = devices.filter((elm) => elm.kind === \"videoInput\");\r\n          const audio = devices.filter((elm) => elm.kind === \"audioInput\");\r\n          setState((state) => ({ ...state, video, audio, once: false }));\r\n          if (videoSelected === \"\") {\r\n            setState((state) => ({ ...state, videoSelected: video[0].deviceId }));\r\n          }\r\n          if (audioSelected === \"\") {\r\n            setState((state) => ({ ...state, audioSelected: audio[0].deviceId }));\r\n          }\r\n        });\r\n    }\r\n  }, [showDevices, videoSelected, audioSelected]);\r\n  return (\r\n    <Dialog\r\n      open={showDevices}\r\n      onClose={() => handleClick(\"showDevices\")}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n      fullWidth\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">{\"Change Devices?\"}</DialogTitle>\r\n      <DialogContent className=\"d-flex flex-column\">\r\n        <Select\r\n          variant=\"outlined\"\r\n          className=\"mb-4\"\r\n          fullWidth\r\n          value={videoSelected}\r\n          name=\"videoSelected\"\r\n          onChange={handleChange}\r\n        >\r\n          {video.map((el, id) => (\r\n            <MenuItem value={el.deviceId} key={id}>\r\n              {el.label}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n        <Select\r\n          variant=\"outlined\"\r\n          className=\"mb-3\"\r\n          fullWidth\r\n          value={audioSelected}\r\n          name=\"audioSelected\"\r\n          onChange={handleChange}\r\n        >\r\n          {audio.map((el, id) => (\r\n            <MenuItem value={el.deviceId} key={id}>\r\n              {el.label}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button color=\"primary\" onClick={() => handleClick(\"showDevices\")}>\r\n          Cancel\r\n        </Button>\r\n        <Button color=\"primary\" autoFocus onClick={handleSubmit}>\r\n          Save\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default connect(null, { room_p_rd })(DialogSelectDevice);\r\n","import DialogSendMessage from \"./DialogSendMessage\";\r\nexport default DialogSendMessage;\r\n","import {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport { ContextType } from \"container/template/ControlContext/ControlContext\";\r\nimport React from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst DialogSendMessage = ({ session, name }) => {\r\n  const { handleClick, showSendMessage } = React.useContext(ContextType);\r\n  const { register, handleSubmit } = useForm();\r\n  const onSubmit = (e) => {\r\n    session.signal(\r\n      {\r\n        data: JSON.stringify({\r\n          name,\r\n          message: \"tes123\",\r\n        }),\r\n        type: \"message\",\r\n      },\r\n      (error) => {\r\n        if (error) {\r\n          console.log(\"signal error :\", error);\r\n        } else {\r\n          console.log(\"signal send\");\r\n          handleClick(\"showSendMessage\");\r\n        }\r\n      }\r\n    );\r\n    console.log(e);\r\n  };\r\n  return (\r\n    <Dialog\r\n      open={showSendMessage}\r\n      onClose={() => handleClick(\"showSendMessage\")}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n      fullWidth\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">Send Message</DialogTitle>\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <DialogContent>\r\n          <TextField\r\n            placeholder=\"Message\"\r\n            variant=\"outlined\"\r\n            multiline\r\n            rows={4}\r\n            fullWidth\r\n            name=\"message\"\r\n            inputRef={register}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => handleClick(\"showSendMessage\")}\r\n            color=\"primary\"\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button color=\"primary\" autoFocus type=\"submit\">\r\n            Send\r\n          </Button>\r\n        </DialogActions>\r\n      </form>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nconst mapState = (state) => ({\r\n  session: state.roomReducer.session,\r\n  name: state.roomPersistReducer.name,\r\n});\r\n\r\nexport default connect(mapState)(DialogSendMessage);\r\n","import ListParticipant from \"./ListParticipant\";\r\nexport default ListParticipant;\r\n","import { ContextType } from \"container/template/ControlContext/ControlContext\";\r\nimport React from \"react\";\r\nimport \"./ListParticipant.scss\";\r\nimport classNames from \"classnames\";\r\nimport BeenhereIcon from \"@material-ui/icons/Beenhere\";\r\nimport { Divider } from \"@material-ui/core\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport \"simplebar/src/simplebar.css\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\nimport { connect } from \"react-redux\";\r\nconst ListParticipant = (props) => {\r\n  const { showListSubs } = React.useContext(ContextType);\r\n  return (\r\n    <div className={classNames(\"participant-wrapper\", !showListSubs && \"hide\")}>\r\n      <div className=\"d-flex p-3 flex-nowrap\">\r\n        <BeenhereIcon className=\"title-icon mr-2\" />\r\n        <p className=\"mb-0 fs-16 fw-600 text-nowrap\">{props.title}</p>\r\n      </div>\r\n      <Divider className=\"mb-3\" />\r\n      <SimpleBar className=\"participant-list-wrapper\">\r\n        {props.subs.length === 0 ? (\r\n          props.role !== \"participant\" ? (\r\n            <p className=\"text-center fs-14 text-nowrap\">No one's here</p>\r\n          ) : (\r\n            <div className=\"d-flex align-items-center mb-2 px-3\">\r\n              <AccountCircleIcon className=\"mr-2\" />\r\n              <p className=\"mb-0 fs-16\">{props.name}</p>\r\n            </div>\r\n          )\r\n        ) : (\r\n          props.subs.map((el) => {\r\n            const data = JSON.parse(el.connection.data);\r\n            return (\r\n              <div className=\"d-flex align-items-center mb-2 px-3\" key={el.id}>\r\n                <AccountCircleIcon className=\"mr-2\" />\r\n                <p className=\"mb-0 fs-16\">{data.name}</p>\r\n              </div>\r\n            );\r\n          })\r\n        )}\r\n      </SimpleBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapState = (state) => ({\r\n  subs: state.roomReducer.subs,\r\n  title: state.roomPersistReducer.title,\r\n  role: state.roomPersistReducer.role,\r\n  name: state.roomPersistReducer.name,\r\n});\r\n\r\nexport default connect(mapState)(ListParticipant);\r\n","import CardQuestion from \"./CardQuestion\";\r\nexport default CardQuestion;\r\n","import { Button, Card, IconButton } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nconst CardQuestion = ({ item }) => {\r\n  return (\r\n    <Card className=\"w-100 px-3 py-2 mb-3\">\r\n      <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n        <div className=\"d-flex\">\r\n          <AccountCircleIcon className=\"mr-2\" />\r\n          <p className=\"mb-0\">{item.name}</p>\r\n        </div>\r\n        <IconButton size=\"small\">\r\n          <MoreVertIcon />\r\n        </IconButton>\r\n      </div>\r\n      <p className=\"mb-1 fs-13\">{item.message}</p>\r\n      <div className=\"text-right\">\r\n        <Button className=\"\">More</Button>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default CardQuestion;\r\n","import ListQuestion from \"./ListQuestion\";\r\nexport default ListQuestion;\r\n","import { ContextType } from \"container/template/ControlContext/ControlContext\";\r\nimport React from \"react\";\r\nimport \"./ListQuestion.scss\";\r\nimport { Divider, Drawer, IconButton } from \"@material-ui/core\";\r\nimport SimpleBar from \"simplebar-react\";\r\nimport \"simplebar/src/simplebar.css\";\r\nimport CardQuestion from \"components/molecules/CardQuestion\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst ListQuestion = ({ messages }) => {\r\n  const { showListQuestion, handleClick } = React.useContext(ContextType);\r\n  return (\r\n    <Drawer\r\n      anchor=\"right\"\r\n      open={showListQuestion}\r\n      onClose={() => handleClick(\"listQuestion\")}\r\n    >\r\n      <div className=\"quest-wrapper\">\r\n        <div className=\"p-3 d-flex align-items-center\">\r\n          <IconButton\r\n            size=\"small\"\r\n            className=\"mr-3\"\r\n            onClick={() => handleClick(\"listQuestion\")}\r\n          >\r\n            <ClearIcon />\r\n          </IconButton>\r\n          <p className=\"mb-0 fs-16 fw-600\">Questions</p>\r\n        </div>\r\n        <Divider className=\"mb-3\" />\r\n        <SimpleBar className=\"quest-list-wrapper\">\r\n          {messages.length === 0 ? (\r\n            <p className=\"text-center fs-14\">No messages</p>\r\n          ) : (\r\n            messages.map((message, id) => (\r\n              <CardQuestion item={message} key={id} />\r\n            ))\r\n          )}\r\n        </SimpleBar>\r\n      </div>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nconst mapState = (state) => ({ messages: state.roomPersistReducer.messages });\r\n\r\nexport default connect(mapState)(ListQuestion);\r\n","import SubsFrame from \"./SubsFrame\";\r\nexport default SubsFrame;\r\n","// import NoVideo from \"components/atoms/NoVideo/NoVideo\";\r\nimport React from \"react\";\r\nimport \"./SubsFrame.scss\";\r\nconst SubsFrame = ({ children }) => {\r\n  return (\r\n    <div className=\"subs-frame\">\r\n      {/* <NoVideo iconClassName='fs-50' /> */}\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubsFrame;\r\n","import OT from \"@opentok/client\";\r\nexport default function createSession({\r\n  apiKey,\r\n  sessionId,\r\n  token,\r\n  onStreamsUpdated,\r\n  onSignalUpdated,\r\n  onConnect,\r\n  onError,\r\n  options,\r\n} = {}) {\r\n  if (!apiKey) {\r\n    throw new Error(\"Missing apiKey\");\r\n  }\r\n\r\n  if (!sessionId) {\r\n    throw new Error(\"Missing sessionId\");\r\n  }\r\n\r\n  if (!token) {\r\n    throw new Error(\"Missing token\");\r\n  }\r\n\r\n  let streams = [];\r\n\r\n  let onStreamCreated = (event) => {\r\n    const index = streams.findIndex((stream) => stream.id === event.stream.id);\r\n    if (index < 0) {\r\n      streams.push(event.stream);\r\n      onStreamsUpdated(streams);\r\n    }\r\n  };\r\n\r\n  let onStreamDestroyed = (event) => {\r\n    const index = streams.findIndex((stream) => stream.id === event.stream.id);\r\n    if (index >= 0) {\r\n      streams.splice(index, 1);\r\n      onStreamsUpdated(streams);\r\n    }\r\n  };\r\n\r\n  let onSignal = (event) => {\r\n    onSignalUpdated(event);\r\n  };\r\n\r\n  let eventHandlers = {\r\n    streamCreated: onStreamCreated,\r\n    streamDestroyed: onStreamDestroyed,\r\n    signal: onSignal,\r\n  };\r\n\r\n  let session = OT.initSession(apiKey, sessionId, options);\r\n  session.on(eventHandlers);\r\n  session.connect(token, (err) => {\r\n    if (!session) {\r\n      // Either this session has been disconnected or OTSession\r\n      // has been unmounted so don't invoke any callbacks\r\n      return;\r\n    }\r\n    if (err && typeof onError === \"function\") {\r\n      onError(err);\r\n    } else if (!err && typeof onConnect === \"function\") {\r\n      onConnect();\r\n    }\r\n  });\r\n\r\n  return {\r\n    session,\r\n    streams,\r\n    disconnect() {\r\n      if (session) {\r\n        session.off(eventHandlers);\r\n        session.disconnect();\r\n      }\r\n\r\n      streams = null;\r\n      onStreamCreated = null;\r\n      onStreamDestroyed = null;\r\n      onSignal = null;\r\n      eventHandlers = null;\r\n      session = null;\r\n\r\n      this.session = null;\r\n      this.streams = null;\r\n    },\r\n  };\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport createSession from './createSession';\r\n\r\nexport default class OTSession extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      streams: [],\r\n    };\r\n  }\r\n\r\n  getChildContext() {\r\n    return { session: this.sessionHelper.session, streams: this.state.streams };\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.createSession();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      prevProps.apiKey !== this.props.apiKey ||\r\n      prevProps.sessionId !== this.props.sessionId ||\r\n      prevProps.token !== this.props.token\r\n    ) {\r\n      this.createSession();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.destroySession();\r\n  }\r\n\r\n  createSession() {\r\n    this.destroySession();\r\n\r\n    this.sessionHelper = createSession({\r\n      apiKey: this.props.apiKey,\r\n      sessionId: this.props.sessionId,\r\n      token: this.props.token,\r\n      onStreamsUpdated: (streams) => { this.setState({ streams }); },\r\n      onConnect: this.props.onConnect,\r\n      onError: this.props.onError,\r\n      options: this.props.options,\r\n    });\r\n\r\n    if (\r\n      this.props.eventHandlers &&\r\n      typeof this.props.eventHandlers === 'object'\r\n    ) {\r\n      this.sessionHelper.session.on(this.props.eventHandlers);\r\n    }\r\n\r\n    const { streams } = this.sessionHelper;\r\n    this.setState({ streams });\r\n  }\r\n\r\n  destroySession() {\r\n    if (this.sessionHelper) {\r\n      if (\r\n        this.props.eventHandlers &&\r\n        typeof this.props.eventHandlers === 'object'\r\n      ) {\r\n        this.sessionHelper.session.off(this.props.eventHandlers);\r\n      }\r\n      this.sessionHelper.disconnect();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div>{this.props.children}</div>;\r\n  }\r\n}\r\n\r\nOTSession.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.element,\r\n    PropTypes.arrayOf(PropTypes.element),\r\n  ]).isRequired,\r\n  apiKey: PropTypes.string.isRequired,\r\n  sessionId: PropTypes.string.isRequired,\r\n  token: PropTypes.string.isRequired,\r\n  eventHandlers: PropTypes.objectOf(PropTypes.func),\r\n  onConnect: PropTypes.func,\r\n  onError: PropTypes.func,\r\n  options: PropTypes.object,\r\n};\r\n\r\nOTSession.defaultProps = {\r\n  eventHandlers: null,\r\n  onConnect: null,\r\n  onError: null,\r\n  options: {},\r\n};\r\n\r\nOTSession.childContextTypes = {\r\n  streams: PropTypes.arrayOf(PropTypes.object),\r\n  session: PropTypes.shape({\r\n    subscribe: PropTypes.func,\r\n    unsubscribe: PropTypes.func,\r\n  }),\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport once from 'lodash/once';\r\nimport { omitBy, isNil } from 'lodash/fp';\r\nimport {v4} from 'uuid';\r\nconst OT = require('@opentok/client');\r\nexport default class OTPublisher extends Component {\r\n  constructor(props, context) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      publisher: null,\r\n      lastStreamId: '',\r\n      session: props.session || context.session || null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.createPublisher();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const cast = (value, defaultValue) => (value === undefined ? defaultValue : value);\r\n\r\n    const shouldUpdate = (key, defaultValue) => {\r\n      const previous = cast(prevProps.properties[key], defaultValue);\r\n      const current = cast(this.props.properties[key], defaultValue);\r\n      return previous !== current;\r\n    };\r\n\r\n    const updatePublisherProperty = (key, defaultValue) => {\r\n      if (shouldUpdate(key, defaultValue)) {\r\n        const value = cast(this.props.properties[key], defaultValue);\r\n        this.state.publisher[key](value);\r\n      }\r\n    };\r\n\r\n    if (shouldUpdate('videoSource', undefined)) {\r\n      this.destroyPublisher();\r\n      this.createPublisher();\r\n      return;\r\n    }\r\n\r\n    updatePublisherProperty('publishAudio', true);\r\n    updatePublisherProperty('publishVideo', true);\r\n\r\n    if (this.state.session !== prevState.session) {\r\n      this.destroyPublisher(prevState.session);\r\n      this.createPublisher();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.state.session) {\r\n      this.state.session.off('sessionConnected', this.sessionConnectedHandler);\r\n    }\r\n\r\n    this.destroyPublisher();\r\n  }\r\n\r\n  getPublisher() {\r\n    return this.state.publisher;\r\n  }\r\n\r\n  destroyPublisher(session = this.state.session) {\r\n    delete this.publisherId;\r\n\r\n    if (this.state.publisher) {\r\n      this.state.publisher.off('streamCreated', this.streamCreatedHandler);\r\n\r\n      if (\r\n        this.props.eventHandlers &&\r\n        typeof this.props.eventHandlers === 'object'\r\n      ) {\r\n        this.state.publisher.once('destroyed', () => {\r\n          this.state.publisher.off(this.props.eventHandlers);\r\n        });\r\n      }\r\n\r\n      if (session) {\r\n        session.unpublish(this.state.publisher);\r\n      }\r\n      this.state.publisher.destroy();\r\n    }\r\n  }\r\n\r\n  publishToSession(publisher) {\r\n    const { publisherId } = this;\r\n\r\n    this.state.session.publish(publisher, (err) => {\r\n      if (publisherId !== this.publisherId) {\r\n        // Either this publisher has been recreated or the\r\n        // component unmounted so don't invoke any callbacks\r\n        return;\r\n      }\r\n      if (err) {\r\n        this.errorHandler(err);\r\n      } else if (typeof this.props.onPublish === 'function') {\r\n        this.props.onPublish();\r\n      }\r\n    });\r\n  }\r\n\r\n  createPublisher() {\r\n    if (!this.state.session) {\r\n      this.setState({ publisher: null, lastStreamId: '' });\r\n      return;\r\n    }\r\n\r\n    const properties = this.props.properties || {};\r\n    let container;\r\n\r\n    if (properties.insertDefaultUI !== false) {\r\n      container = document.createElement('div');\r\n      container.setAttribute('class', 'OTPublisherContainer');\r\n      this.node.appendChild(container);\r\n    }\r\n\r\n    this.publisherId = v4();\r\n    const { publisherId } = this;\r\n\r\n    this.errorHandler = once((err) => {\r\n      if (publisherId !== this.publisherId) {\r\n        // Either this publisher has been recreated or the\r\n        // component unmounted so don't invoke any callbacks\r\n        return;\r\n      }\r\n      if (typeof this.props.onError === 'function') {\r\n        this.props.onError(err);\r\n      }\r\n    });\r\n\r\n    const publisher = OT.initPublisher(container, properties, (err) => {\r\n      if (publisherId !== this.publisherId) {\r\n        // Either this publisher has been recreated or the\r\n        // component unmounted so don't invoke any callbacks\r\n        return;\r\n      }\r\n      if (err) {\r\n        this.errorHandler(err);\r\n      } else if (typeof this.props.onInit === 'function') {\r\n        this.props.onInit();\r\n      }\r\n    });\r\n    publisher.on('streamCreated', this.streamCreatedHandler);\r\n\r\n    if (\r\n      this.props.eventHandlers &&\r\n      typeof this.props.eventHandlers === 'object'\r\n    ) {\r\n      const handles = omitBy(isNil)(this.props.eventHandlers);\r\n      publisher.on(handles);\r\n    }\r\n\r\n    if (this.state.session.connection) {\r\n      this.publishToSession(publisher);\r\n    } else {\r\n      this.state.session.once('sessionConnected', this.sessionConnectedHandler);\r\n    }\r\n\r\n    this.setState({ publisher, lastStreamId: '' });\r\n  }\r\n\r\n  sessionConnectedHandler = () => {\r\n    this.publishToSession(this.state.publisher);\r\n  }\r\n\r\n  streamCreatedHandler = (event) => {\r\n    this.setState({ lastStreamId: event.stream.id });\r\n  }\r\n\r\n  render() {\r\n    const { className, style } = this.props;\r\n    return <div className={className} style={style} ref={(node) => { this.node = node; }} />;\r\n  }\r\n}\r\n\r\nOTPublisher.propTypes = {\r\n  session: PropTypes.shape({\r\n    connection: PropTypes.shape({\r\n      connectionId: PropTypes.string,\r\n    }),\r\n    once: PropTypes.func,\r\n    off: PropTypes.func,\r\n    publish: PropTypes.func,\r\n    unpublish: PropTypes.func,\r\n  }),\r\n  className: PropTypes.string,\r\n  style: PropTypes.object, // eslint-disable-line react/forbid-prop-types\r\n  properties: PropTypes.object, // eslint-disable-line react/forbid-prop-types\r\n  eventHandlers: PropTypes.objectOf(PropTypes.func),\r\n  onInit: PropTypes.func,\r\n  onPublish: PropTypes.func,\r\n  onError: PropTypes.func,\r\n};\r\n\r\nOTPublisher.defaultProps = {\r\n  session: null,\r\n  className: '',\r\n  style: {},\r\n  properties: {},\r\n  eventHandlers: null,\r\n  onInit: null,\r\n  onPublish: null,\r\n  onError: null,\r\n};\r\n\r\nOTPublisher.contextTypes = {\r\n  session: PropTypes.shape({\r\n    connection: PropTypes.shape({\r\n      connectionId: PropTypes.string,\r\n    }),\r\n    once: PropTypes.func,\r\n    off: PropTypes.func,\r\n    publish: PropTypes.func,\r\n    unpublish: PropTypes.func,\r\n  }),\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// This is a wrapper class that establishes context for an OTSubscriber\r\n// instance.  This allows stream to be passed to the\r\n// OTSubscriber without requiring each child element to pas through props.\r\n// There should be a 1:1 ratio between OTSubscriberContext's and OTSubscriber's.\r\n// In general, OTSubscriberContext's are generated by the OTStreams component\r\n\r\nexport default class OTSubscriberContext extends Component {\r\n  getChildContext() {\r\n    return { stream: this.props.stream };\r\n  }\r\n\r\n  render() {\r\n    return <div>{ this.props.children }</div>;\r\n  }\r\n\r\n}\r\n\r\nOTSubscriberContext.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n  stream: PropTypes.shape({\r\n    streamId: PropTypes.string,\r\n  }).isRequired,\r\n};\r\n\r\nOTSubscriberContext.childContextTypes = {\r\n  stream: PropTypes.shape({\r\n    streamId: PropTypes.string,\r\n  }),\r\n};\r\n","import React, { Children, cloneElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport OTSubscriberContext from './OTSubscriberContext';\r\n\r\nexport default function OTStreams(props, context) {\r\n  const session = props.session || context.session || null;\r\n  const streams = props.streams || context.streams || null;\r\n\r\n  if (!session) {\r\n    return <div />;\r\n  }\r\n\r\n  const child = Children.only(props.children);\r\n\r\n  const childrenWithContextWrapper = Array.isArray(streams)\r\n    ? streams.map(stream => (child\r\n      ? <OTSubscriberContext stream={stream} key={stream.id} >\r\n        { cloneElement(child) }\r\n      </OTSubscriberContext>\r\n      : child))\r\n    : null;\r\n\r\n  return <div>{childrenWithContextWrapper}</div>;\r\n}\r\n\r\nOTStreams.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n  session: PropTypes.shape({ publish: PropTypes.func, subscribe: PropTypes.func }),\r\n  streams: PropTypes.arrayOf(PropTypes.object),\r\n};\r\n\r\nOTStreams.defaultProps = {\r\n  session: null,\r\n  streams: null,\r\n};\r\n\r\nOTStreams.contextTypes = {\r\n  session: PropTypes.shape({ publish: PropTypes.func, subscribe: PropTypes.func }),\r\n  streams: PropTypes.arrayOf(PropTypes.object),\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {v4} from 'uuid';\r\n\r\nexport default class OTSubscriber extends Component {\r\n  constructor(props, context) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      subscriber: null,\r\n      stream: props.stream || context.stream || null,\r\n      session: props.session || context.session || null,\r\n      currentRetryAttempt: 0,\r\n    };\r\n    this.maxRetryAttempts = props.maxRetryAttempts || 5;\r\n    this.retryAttemptTimeout = props.retryAttemptTimeout || 1000;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.createSubscriber();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const cast = (value, Type, defaultValue) => (value === undefined ? defaultValue : Type(value));\r\n\r\n    const updateSubscriberProperty = (key) => {\r\n      const previous = cast(prevProps.properties[key], Boolean, true);\r\n      const current = cast(this.props.properties[key], Boolean, true);\r\n      if (previous !== current) {\r\n        this.state.subscriber[key](current);\r\n      }\r\n    };\r\n\r\n    updateSubscriberProperty('subscribeToAudio');\r\n    updateSubscriberProperty('subscribeToVideo');\r\n\r\n    if (prevState.session !== this.state.session || prevState.stream !== this.state.stream) {\r\n      this.destroySubscriber(prevState.session);\r\n      this.createSubscriber();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.destroySubscriber();\r\n  }\r\n\r\n  getSubscriber() {\r\n    return this.state.subscriber;\r\n  }\r\n\r\n  createSubscriber() {\r\n    if (!this.state.session || !this.state.stream) {\r\n      this.setState({ subscriber: null });\r\n      return;\r\n    }\r\n    const properties = this.props.properties || {};\r\n    let container;\r\n    if (properties.insertDefaultUI !== false) {\r\n      container = document.createElement('div');\r\n      container.setAttribute('class', 'OTSubscriberContainer');\r\n      this.node.appendChild(container);\r\n    }\r\n\r\n    this.subscriberId = v4();\r\n    const { subscriberId } = this;\r\n\r\n    const subscriber = this.state.session.subscribe(\r\n            this.state.stream,\r\n            container,\r\n            this.props.properties,\r\n            (err) => {\r\n              if (subscriberId !== this.subscriberId) {\r\n                    // Either this subscriber has been recreated or the\r\n                    // component unmounted so don't invoke any callbacks\r\n                return;\r\n              }\r\n              if (err &&\r\n                this.props.retry &&\r\n                this.state.currentRetryAttempt < (this.maxRetryAttempts - 1)) {\r\n                // Error during subscribe function\r\n                this.handleRetrySubscriber();\r\n                // If there is a retry action, do we want to execute the onError props function?\r\n                // return;\r\n              }\r\n              if (err && typeof this.props.onError === 'function') {\r\n                this.props.onError(err);\r\n              } else if (!err && typeof this.props.onSubscribe === 'function') {\r\n                this.props.onSubscribe();\r\n              }\r\n            },\r\n        );\r\n\r\n    if (\r\n            this.props.eventHandlers &&\r\n            typeof this.props.eventHandlers === 'object'\r\n        ) {\r\n      subscriber.on(this.props.eventHandlers);\r\n    }\r\n\r\n    this.setState({ subscriber });\r\n  }\r\n\r\n  handleRetrySubscriber() {\r\n    setTimeout(() => {\r\n      this.setState(state => ({\r\n        currentRetryAttempt: state.currentRetryAttempt + 1,\r\n        subscriber: null,\r\n      }));\r\n      this.createSubscriber();\r\n    }, this.retryAttemptTimeout);\r\n  }\r\n\r\n  destroySubscriber(session = this.props.session) {\r\n    delete this.subscriberId;\r\n\r\n    if (this.state.subscriber) {\r\n      if (\r\n                this.props.eventHandlers &&\r\n                typeof this.props.eventHandlers === 'object'\r\n            ) {\r\n        this.state.subscriber.once('destroyed', () => {\r\n          this.state.subscriber.off(this.props.eventHandlers);\r\n        });\r\n      }\r\n\r\n      if (session) {\r\n        session.unsubscribe(this.state.subscriber);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { className, style } = this.props;\r\n    return <div className={className} style={style} ref={(node) => { this.node = node; }} />;\r\n  }\r\n}\r\n\r\nOTSubscriber.propTypes = {\r\n  stream: PropTypes.shape({\r\n    streamId: PropTypes.string,\r\n  }),\r\n  session: PropTypes.shape({\r\n    subscribe: PropTypes.func,\r\n    unsubscribe: PropTypes.func,\r\n  }),\r\n  className: PropTypes.string,\r\n  style: PropTypes.object, // eslint-disable-line react/forbid-prop-types\r\n  properties: PropTypes.object, // eslint-disable-line react/forbid-prop-types\r\n  retry: PropTypes.bool,\r\n  maxRetryAttempts: PropTypes.number,\r\n  retryAttemptTimeout: PropTypes.number,\r\n  eventHandlers: PropTypes.objectOf(PropTypes.func),\r\n  onSubscribe: PropTypes.func,\r\n  onError: PropTypes.func,\r\n};\r\n\r\nOTSubscriber.defaultProps = {\r\n  stream: null,\r\n  session: null,\r\n  className: '',\r\n  style: {},\r\n  properties: {},\r\n  retry: false,\r\n  maxRetryAttempts: 5,\r\n  retryAttemptTimeout: 1000,\r\n  eventHandlers: null,\r\n  onSubscribe: null,\r\n  onError: null,\r\n};\r\n\r\nOTSubscriber.contextTypes = {\r\n  stream: PropTypes.shape({\r\n    streamId: PropTypes.string,\r\n  }),\r\n  session: PropTypes.shape({\r\n    subscribe: PropTypes.func,\r\n    unsubscribe: PropTypes.func,\r\n  }),\r\n};\r\n","import OTSession from './OTSession';\r\nimport OTPublisher from './OTPublisher';\r\nimport OTStreams from './OTStreams';\r\nimport OTSubscriber from './OTSubscriber';\r\nimport createSession from './createSession';\r\nimport preloadScript from './preloadScript';\r\n\r\nexport default {\r\n  OTSession,\r\n  OTPublisher,\r\n  OTStreams,\r\n  OTSubscriber,\r\n  createSession,\r\n  preloadScript,\r\n};\r\n\r\nexport {\r\n  OTSession,\r\n  OTPublisher,\r\n  OTStreams,\r\n  OTSubscriber,\r\n  createSession,\r\n  preloadScript,\r\n};\r\n","import React from \"react\";\r\nimport \"./NoVideo.scss\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport classNames from \"classnames\";\r\nconst NoVideo = ({ connected, iconClassName }) => {\r\n  return (\r\n    <div className=\"no-video\">\r\n      <PersonIcon className={classNames(\"text-white\", iconClassName)} />\r\n      {!connected && (\r\n        <p data-test=\"connecting-text\" className=\"mb-0 fs-14 text-white\">\r\n          Connecting...\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoVideo;\r\n","import NoVideo from \"components/atoms/NoVideo/NoVideo\";\r\nimport { ContextType } from \"container/template/ControlContext/ControlContext\";\r\nimport { OTPublisher } from \"opentok\";\r\nimport React, { Component } from \"react\";\r\nimport \"./Publisher.scss\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Publisher extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.eventHandlers = {\r\n      streamDestroyed: (event) => {\r\n        if (event.reason === \"mediaStopped\") {\r\n          this.context.handleClick(\"screenShare\");\r\n        }\r\n      },\r\n    };\r\n  }\r\n\r\n  static contextType = ContextType;\r\n  \r\n  onError = (event) => {\r\n    if (event.code === 1500) {\r\n      this.context.handleClick(\"screenShare\");\r\n    }\r\n  };\r\n  render() {\r\n    const { videoSelected, audioSelected, connectionStatus } = this.props;\r\n    return connectionStatus ? (\r\n      <OTPublisher\r\n        properties={{\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n\r\n          style: { buttonDisplayMode: \"off\" },\r\n          resolution: \"1280x720\",\r\n          publishVideo: this.context.publishVideo,\r\n          publishAudio: this.context.publishAudio,\r\n          videoSource: this.context.screenShare\r\n            ? \"screen\"\r\n            : videoSelected === null\r\n            ? undefined\r\n            : videoSelected,\r\n          audioSource: audioSelected === null ? undefined : audioSelected,\r\n        }}\r\n        session={this.props.session}\r\n        className=\"pub-wrapper\"\r\n        onError={this.onError}\r\n        eventHandlers={this.eventHandlers}\r\n      />\r\n    ) : (\r\n      <NoVideo\r\n        iconClassName={this.props.role === \"participant\" ? \"\" : \"fs-200\"}\r\n        connected={connectionStatus}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = (state) => ({\r\n  videoSelected: state.roomPersistReducer.videoSelected,\r\n  audioSelected: state.roomPersistReducer.audioSelected,\r\n  role: state.roomPersistReducer.role,\r\n  session: state.roomReducer.session,\r\n  connectionStatus:state.roomReducer.connectionStatus\r\n});\r\n\r\nexport default connect(mapState)(Publisher);\r\n","import Publisher from \"./Publisher\";\r\nexport default Publisher;\r\n","import ListSpeaker from \"./ListSpeaker\";\r\nexport default ListSpeaker;\r\n","import SubsFrame from \"components/molecules/SubsFrame\";\r\nimport { OTSubscriber } from \"opentok\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Publisher from \"../Publisher\";\r\nimport \"./ListSpeaker.scss\";\r\nconst ListSpeaker = ({ speakerStream, session, role }) => {\r\n  return (\r\n    <div className=\"list-speaker-wrapper\">\r\n      {role === \"speaker\" && (\r\n        <SubsFrame>\r\n          <Publisher />\r\n        </SubsFrame>\r\n      )}\r\n      {session !== null &&\r\n        speakerStream !== null &&\r\n        speakerStream.map((el) => (\r\n          <SubsFrame key={el.id}>\r\n            <OTSubscriber\r\n              properties={{\r\n                subscribeToAudio: true,\r\n                subscribeToVideo: true,\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n              }}\r\n              session={session}\r\n              stream={el}\r\n              retry={true}\r\n              maxRetryAttempts={3}\r\n              retryAttemptTimeout={2000}\r\n              className=\"w-100 h-100\"\r\n            />\r\n          </SubsFrame>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapState = (state) => ({\r\n  speakerStream: state.roomReducer.speakerStream,\r\n  session: state.roomReducer.session,\r\n  role: state.roomPersistReducer.role,\r\n});\r\n\r\nexport default connect(mapState)(ListSpeaker);\r\n","import ExtraControl from \"./ExtraControl\";\r\nexport default ExtraControl;\r\n","import { IconButton } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport \"./ExtraControl.scss\";\r\nimport GroupIcon from \"@material-ui/icons/Group\";\r\nimport ModeCommentIcon from \"@material-ui/icons/ModeComment\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport { ContextType } from \"container/template/ControlContext/ControlContext\";\r\n\r\nconst ExtraControl = () => {\r\n  const { handleClick } = React.useContext(ContextType);\r\n  return (\r\n    <div className=\"button-group-wrapper\">\r\n      <IconButton size=\"small\" onClick={() => handleClick(\"listSubs\")}>\r\n        <GroupIcon className=\"icon-button-color\" />\r\n      </IconButton>\r\n      <IconButton size=\"small\" onClick={() => handleClick(\"listQuestion\")}>\r\n        <ModeCommentIcon className=\"icon-button-color mx-2\" />\r\n      </IconButton>\r\n      <IconButton size=\"small\" onClick={() => handleClick(\"showDevices\")}>\r\n        <SettingsIcon className=\"icon-button-color\" />\r\n      </IconButton>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExtraControl;\r\n","import { Button, makeStyles } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport PropTypes from \"prop-types\";\r\nconst CircleButton = ({ icon, className, properties, onClick }) => {\r\n  const useStyles = makeStyles({\r\n    root: {\r\n      padding: 0,\r\n      height: properties.size,\r\n      // width: properties.size,\r\n      minWidth: properties.size,\r\n      backgroundColor: properties.backgroundColor + \"!important\",\r\n      borderRadius: \"50%\",\r\n      transition: \"filter 0.5s\",\r\n      \"&:hover\": {\r\n        filter: \"brightness(90%)\",\r\n      },\r\n    },\r\n  });\r\n  const classes = useStyles();\r\n  return (\r\n    <Button\r\n      variant=\"contained\"\r\n      className={classNames(classes.root, className)}\r\n      onClick={onClick}\r\n    >\r\n      {icon}\r\n    </Button>\r\n  );\r\n};\r\n\r\nCircleButton.propTypes = {\r\n  icon: PropTypes.element,\r\n  className: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n  properties: PropTypes.shape({\r\n    size: PropTypes.number,\r\n    backgroundColor: PropTypes.string,\r\n  }),\r\n};\r\n\r\nCircleButton.defaultProps = {\r\n  onClick: () => null,\r\n  properties: {\r\n    size: 64,\r\n    backgroundColor: \"unset\",\r\n  },\r\n};\r\n\r\nexport default CircleButton;\r\n","import CircleButton from \"./CircleButton\";\r\nexport default CircleButton;\r\n","import CircleButton from \"components/atoms/CircleButton\";\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ControlButton = ({ onClick, on, off, className, properties }) => {\r\n  const [state, setState] = React.useState(true);\r\n  const handleClick = () => {\r\n    setState(!state);\r\n    onClick();\r\n  };\r\n  return (\r\n    <CircleButton\r\n      onClick={handleClick}\r\n      icon={state ? on : off ? off : on}\r\n      properties={properties}\r\n      className={className}\r\n    />\r\n  );\r\n};\r\n\r\nControlButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n  on: PropTypes.element,\r\n  off: PropTypes.element,\r\n  className: PropTypes.string,\r\n  properties: PropTypes.shape({\r\n    size: PropTypes.number,\r\n    backgroundColor: PropTypes.string,\r\n  }),\r\n};\r\n\r\nControlButton.defaultProps = {\r\n  onClick: () => null,\r\n  properties: {\r\n    size: 64,\r\n    backgroundColor: \"unset\",\r\n  },\r\n};\r\n\r\nexport default ControlButton;\r\n","import ControlButton from \"./ControlButton\";\r\nexport default ControlButton;","import MainControl from \"./MainControl\";\r\nexport default MainControl;","import React from \"react\";\r\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\r\nimport VideocamOffIcon from \"@material-ui/icons/VideocamOff\";\r\nimport ScreenShareIcon from \"@material-ui/icons/ScreenShare\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\r\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\r\nimport MessageIcon from \"@material-ui/icons/Message\";\r\nimport GroupIcon from \"@material-ui/icons/Group\";\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport ControlButton from \"components/molecules/ControlButton\";\r\nimport \"./MainControl.scss\";\r\nimport { ContextType } from \"container/template/ControlContext/ControlContext\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst MainControl = ({ role }) => {\r\n  const { handleClick } = React.useContext(ContextType);\r\n  return (\r\n    <div className=\"main-control-wrapper\">\r\n      {role !== \"participant\" ? (\r\n        <>\r\n          <ControlButton\r\n            on={<VideocamIcon className=\"color-blue\" />}\r\n            off={<VideocamOffIcon className=\"color-blue\" />}\r\n            properties={{\r\n              backgroundColor: \"white\",\r\n              size: 60,\r\n            }}\r\n            className=\"mr-3\"\r\n            onClick={() => handleClick(\"videoSelf\")}\r\n          />\r\n          <ControlButton\r\n            on={<MicIcon className=\"color-blue\" />}\r\n            off={<MicOffIcon className=\"color-blue\" />}\r\n            className=\"mr-3\"\r\n            properties={{\r\n              backgroundColor: \"white\",\r\n              size: 60,\r\n            }}\r\n            onClick={() => handleClick(\"audioSelf\")}\r\n          />\r\n        </>\r\n      ) : (\r\n        <ControlButton\r\n          on={<MessageIcon className=\"color-blue\" />}\r\n          className=\"mr-3\"\r\n          properties={{\r\n            backgroundColor: \"white\",\r\n            size: 60,\r\n          }}\r\n          onClick={() => handleClick(\"showSendMessage\")}\r\n        />\r\n      )}\r\n      <ControlButton\r\n        on={<CallEndIcon className=\"text-white\" />}\r\n        className=\"mr-3\"\r\n        properties={{\r\n          backgroundColor: \"red\",\r\n          size: 60,\r\n        }}\r\n        onClick={() => handleClick(\"end\")}\r\n      />\r\n      {role !== \"participant\" ? (\r\n        <ControlButton\r\n          on={<ScreenShareIcon className=\"color-blue\" />}\r\n          properties={{\r\n            backgroundColor: \"white\",\r\n            size: 60,\r\n          }}\r\n          onClick={() => handleClick(\"screenShare\")}\r\n        />\r\n      ) : (\r\n        <ControlButton\r\n          on={<GroupIcon className=\"color-blue\" />}\r\n          properties={{\r\n            backgroundColor: \"white\",\r\n            size: 60,\r\n          }}\r\n          onClick={() => handleClick(\"listSubs\")}\r\n        />\r\n      )}\r\n      {role === \"moderator\" && (\r\n        <ControlButton\r\n          on={<RemoveIcon className=\"text-white\" />}\r\n          className=\"ml-3\"\r\n          properties={{\r\n            backgroundColor: \"red\",\r\n            size: 60,\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapState = (state) => ({ role: state.roomPersistReducer.role });\r\n\r\nexport default connect(mapState)(MainControl);\r\n","import Speaker from \"./Speaker\";\r\nexport default Speaker;\r\n","import NoVideo from \"components/atoms/NoVideo/NoVideo\";\r\nimport { OTSubscriber } from \"opentok\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Publisher from \"../Publisher\";\r\n\r\nconst Speaker = ({ session, moderatorStream, role }) => {\r\n  // console.log(moderatorStream);\r\n  if (role === \"moderator\") {\r\n    return <Publisher />;\r\n  } else {\r\n    return moderatorStream === null ? (\r\n      <NoVideo iconClassName=\"fs-200\" />\r\n    ) : (\r\n      session !== null && (\r\n        <OTSubscriber\r\n          properties={{\r\n            subscribeToAudio: true,\r\n            subscribeToVideo: true,\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n          }}\r\n          session={session}\r\n          stream={moderatorStream !== null && moderatorStream[0]}\r\n          retry={true}\r\n          maxRetryAttempts={3}\r\n          retryAttemptTimeout={2000}\r\n          className=\"w-100 h-100\"\r\n        />\r\n      )\r\n    );\r\n  }\r\n};\r\n\r\nconst mapState = (state) => ({\r\n  moderatorStream: state.roomReducer.moderatorStream,\r\n  session: state.roomReducer.session,\r\n  role: state.roomPersistReducer.role,\r\n});\r\n\r\nexport default connect(mapState)(Speaker);\r\n","// import NoVideo from \"components/atoms/NoVideo/NoVideo\";\r\nimport DialogSelectDevice from \"components/organism/dialog/DialogSelectDevice\";\r\nimport DialogSendMessage from \"components/organism/dialog/DialogSendMessage\";\r\nimport ListParticipant from \"components/organism/ListParticipant\";\r\nimport ListQuestion from \"components/organism/ListQuestion\";\r\nimport ListSpeaker from \"components/organism/ListSpeaker\";\r\n// import ListSubs from \"components/organism/ListSubs\";\r\n// import Publisher from \"components/organism/Publisher\";\r\nimport ExtraControl from \"components/organism/roomControl/ExtraControl\";\r\nimport MainControl from \"components/organism/roomControl/MainControl\";\r\nimport Speaker from \"components/organism/Speaker\";\r\nimport { ControlContext } from \"container/template/ControlContext/ControlContext\";\r\nimport { createSession } from \"opentok\";\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { room_rd, add_message_rd } from \"../../../config/redux/action/room\";\r\n\r\nclass RoomPage extends Component {\r\n  componentDidMount() {\r\n    const {\r\n      sessionId,\r\n      token,\r\n      apiKey,\r\n      // role,\r\n      room_rd,\r\n      add_message_rd,\r\n    } = this.props;\r\n    this.session = createSession({\r\n      apiKey,\r\n      sessionId,\r\n      token,\r\n      onStreamsUpdated: (streams) => {\r\n        console.log(streams);\r\n        // if (role !== \"participant\") {\r\n        //   this.props.room_rd({ subs: [...streams] });\r\n        // } else {\r\n        const speakerStream = streams.filter((e) => {\r\n          const data = JSON.parse(e.connection.data);\r\n          if (data.role === \"speaker\") {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n        const moderatorStream = streams.filter((e) => {\r\n          const data = JSON.parse(e.connection.data);\r\n          if (data.role === \"moderator\") {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n        const subs = streams.filter((e) => {\r\n          const data = JSON.parse(e.connection.data);\r\n          if (data.role === \"participant\") {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n        room_rd({\r\n          subs: [...subs],\r\n          speakerStream: [...speakerStream],\r\n          moderatorStream: [...moderatorStream],\r\n        });\r\n        // }\r\n      },\r\n      onConnect: () => {\r\n        room_rd({ connectionStatus: true });\r\n      },\r\n      onSignalUpdated: (event) => {\r\n        console.log(event);\r\n        const { from } = event;\r\n        const data = JSON.parse(event.data);\r\n        const message = {\r\n          name: data.name,\r\n          message: data.message,\r\n          from,\r\n        };\r\n        add_message_rd(message);\r\n      },\r\n      onError: (err) => {\r\n        console.log(err);\r\n      },\r\n    });\r\n    room_rd({ session: this.session.session });\r\n  }\r\n  render() {\r\n    return (\r\n      <ControlContext>\r\n        <div data-test=\"room-container\" className=\"d-flex\">\r\n          {/* <ListSubs /> */}\r\n          <ListParticipant />\r\n          <div className=\"position-relative w-100\">\r\n            <ListSpeaker />\r\n            {this.props.role !== \"participant\" && <ExtraControl />}\r\n            <div style={{ height: \"100vh\" }}>\r\n              {/* <NoVideo iconClassName=\"fs-200\" /> */}\r\n              {/* {this.props.role !== \"participant\" ? <Publisher /> : <Speaker />} */}\r\n              <Speaker />\r\n            </div>\r\n            <MainControl />\r\n          </div>\r\n          {this.props.role !== \"participant\" && <ListQuestion />}\r\n        </div>\r\n        {this.props.role === \"participant\" ? (\r\n          <DialogSendMessage />\r\n        ) : (\r\n          <DialogSelectDevice />\r\n        )}\r\n      </ControlContext>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = (state) => ({\r\n  role: state.roomPersistReducer.role,\r\n  sessionId: state.roomPersistReducer.sessionId,\r\n  token: state.roomPersistReducer.token,\r\n  apiKey: state.roomPersistReducer.apiKey,\r\n});\r\n\r\nexport default connect(mapState, { room_rd, add_message_rd })(RoomPage);\r\n","import JoinPage from \"./JoinPage\";\r\nimport Loginpage from \"./Loginpage\";\r\n// import OtherPage from \"./OtherPage\";\r\nimport Other2Page from \"./Other2Page\";\r\nimport RoomPage from \"./RoomPage\";\r\nconst pages = [\r\n  {\r\n    component: Other2Page,\r\n    path: \"/other\",\r\n    type: \"public\",\r\n    showLeaveConfirm: true,\r\n    manualLeave: true,\r\n  },\r\n  {\r\n    component: RoomPage,\r\n    path: \"/room\",\r\n    type: \"private\",\r\n  },\r\n  {\r\n    component: Loginpage,\r\n    path: \"/login\",\r\n    type: \"public\",\r\n  },\r\n  {\r\n    component: JoinPage,\r\n    path: \"/\",\r\n    type: \"private\",\r\n  },\r\n];\r\n\r\nexport default pages;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapState = (state) => ({\r\n  login_status: state.authReducer.login_status,\r\n  token: state.roomPersistReducer.token,\r\n});\r\n\r\nconst PrivateRoute = ({ children, login_status, token, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location, history }) => {\r\n        const { pathname } = location;\r\n        if (login_status) {\r\n          if (pathname === \"/room\") {\r\n            if (token === \"\") return <Redirect to=\"/\" />;\r\n            else return children;\r\n          } else {\r\n            return children;\r\n          }\r\n        } else {\r\n          return <Redirect to=\"/login\" />;\r\n        }\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default connect(mapState)(PrivateRoute);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapState = (state) => ({ login_status: state.authReducer.login_status });\r\n\r\nconst PublicRoute = ({ children, login_status, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location, history }) => {\r\n        if (!login_status) {\r\n          return children;\r\n        } else {\r\n          return <Redirect to=\"/\" />;\r\n        }\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default connect(mapState)(PublicRoute);\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Dialog, DialogContent, Button } from \"@material-ui/core\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport PropTypes from \"prop-types\";\r\nimport stateHelper from \"helper/stateHelper\";\r\n\r\nconst DialogAlert = ({\r\n  buttonText,\r\n  alertAppear,\r\n  nameKey,\r\n  needIcon,\r\n  removeTmp,\r\n}) => {\r\n  const tmp_result = useSelector((state) => state.stateReducer.tmp_result);\r\n  const [state, setState] = React.useState({\r\n    open: false,\r\n    msg: \"tes123\",\r\n    status: true,\r\n  });\r\n  React.useEffect(() => {\r\n    let data = stateHelper.getSpesificTmp(\r\n      tmp_result,\r\n      [nameKey, \"network_error\", \"server_error\", \"session_timeout\"],\r\n      removeTmp\r\n    );\r\n    if (data !== null) {\r\n      if (\r\n        (!alertAppear && !data.status) ||\r\n        (alertAppear && data.status) ||\r\n        alertAppear === \"both\"\r\n      ) {\r\n        setState((state) => ({\r\n          ...state,\r\n          msg: data.msg,\r\n          open: true,\r\n          status: data.status,\r\n        }));\r\n      }\r\n    }\r\n  }, [alertAppear, nameKey, removeTmp, tmp_result]);\r\n  const { open, msg, status } = state;\r\n  const handleModal = (e) => {\r\n    setState((state) => ({ ...state, open: e }));\r\n  };\r\n  const handleClick = () => {\r\n    handleModal(false);\r\n  };\r\n  return (\r\n    <Dialog open={open} onClose={handleClick} fullWidth maxWidth=\"xs\">\r\n      <DialogContent dividers>\r\n        <div className=\"text-center w-100\">\r\n          {needIcon &&\r\n            (status ? (\r\n              <CheckCircleIcon className=\"fs-40 mb-3\" color=\"primary\" />\r\n            ) : (\r\n              <CancelIcon className=\"fs-40 mb-3\" color=\"primary\" />\r\n            ))}\r\n        </div>\r\n        <p className=\"fs-16 text-center\">{msg}</p>\r\n      </DialogContent>\r\n      <div className=\"text-center py-3\">\r\n        <Button variant=\"contained\" onClick={handleClick} color=\"primary\">\r\n          {buttonText}\r\n        </Button>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nDialogAlert.propTypes = {\r\n  buttonText: PropTypes.string,\r\n  alertAppear: PropTypes.any,\r\n  nameKey: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\r\n  needIcon: PropTypes.bool,\r\n  removeTmp: PropTypes.bool,\r\n};\r\n\r\nDialogAlert.defaultProps = {\r\n  buttonText: \"OK\",\r\n  alertAppear: true,\r\n  nameKey: \"\",\r\n  needIcon: true,\r\n  removeTmp: false,\r\n};\r\n\r\nexport default DialogAlert;\r\n","import DialogAlert from \"./DialogAlert\";\r\nexport default DialogAlert;\r\n","import withDialog from \"./withDialog\";\r\nexport default withDialog;\r\n","import React from \"react\";\r\nimport DialogAlert from \"components/organism/dialog/DialogAlert\";\r\n\r\n/**\r\n * withDialog\r\n * @param {component} WrapperComponent\r\n * @return {component}\r\n */\r\nconst withDialog = (WrapperComponent) => {\r\n  return class extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        setup: {},\r\n      };\r\n    }\r\n    /**\r\n     * dialogSetup\r\n     * @param {object} setup\r\n     * {\r\n     *    alertAppear: boolean => true (show alert success) false (show alert failed)\r\n     *    nameKey: string => nama key yg di set ke tmp_result\r\n     *    buttonText: string(default 'OK') => text di button\r\n     *    needIcon: boolean(default true) => true (show top icon) false (hide top icon)\r\n     *    removeTmp: boolean(default true) => hapus data dari tmp_result\r\n     * }\r\n     */\r\n    dialogSetup = (setup) => {\r\n      this.setState({ setup });\r\n    };\r\n    render() {\r\n      const props = {\r\n        ...this.props,\r\n        dialogSetup: this.dialogSetup,\r\n      };\r\n      return (\r\n        <>\r\n          <WrapperComponent {...props} />\r\n          <DialogAlert {...this.state.setup} />\r\n        </>\r\n      );\r\n    }\r\n  };\r\n};\r\n\r\nexport default withDialog;\r\n","import React from \"react\";\r\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport MuiDialogContent from \"@material-ui/core/DialogContent\";\r\nimport MuiDialogActions from \"@material-ui/core/DialogActions\";\r\n// import color from \"../../../assets/theme/color\";\r\nimport PropTypes from \"prop-types\";\r\nimport classNames from \"classnames\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n    justifyContent: \"center\",\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nexport default function DialogCustom(props) {\r\n  const {\r\n    open,\r\n    handleClose,\r\n    title,\r\n    titleClass,\r\n    text,\r\n    textClass,\r\n    buttonText,\r\n    onClick,\r\n    backgroundColor,\r\n    textColorClass,\r\n    content,\r\n    showCloseButton,\r\n    maxWidth,\r\n    className,\r\n    modalClass,\r\n    actionClass,\r\n    buttonClass,\r\n    onCancel,\r\n  } = props;\r\n  const onClose = () => {\r\n    handleClose(false);\r\n  };\r\n  const handleClick = () => {\r\n    onClick();\r\n  };\r\n  const useStyles = makeStyles({\r\n    root: {\r\n      \"& .MuiDialog-container .MuiPaper-root\": {\r\n        backgroundColor: backgroundColor || \"#fff\",\r\n      },\r\n    },\r\n  });\r\n  const classes = useStyles();\r\n  return (\r\n    <Dialog\r\n      onClose={onClose}\r\n      aria-labelledby=\"customized-dialog-title\"\r\n      open={open}\r\n      className={classNames(classes.root, modalClass)}\r\n      maxWidth={maxWidth}\r\n    >\r\n      <DialogContent dividers className={className}>\r\n        <div\r\n          className={classNames(\r\n            title && !titleClass && \"mb-3\",\r\n            showCloseButton && \"d-flex justify-content-between\"\r\n          )}\r\n        >\r\n          {title && (\r\n            <p\r\n              className={classNames(\r\n                titleClass || \"fs-14 font-weight-bold text-center\",\r\n                textColorClass || \"color-secondary\",\r\n                textClass\r\n              )}\r\n            >\r\n              {title}\r\n            </p>\r\n          )}\r\n          {showCloseButton && (\r\n            <IconButton onClick={onClose} size=\"small\">\r\n              <CloseIcon className={textColorClass} />\r\n            </IconButton>\r\n          )}\r\n        </div>\r\n        {text && (\r\n          <p\r\n            className={classNames(\r\n              textClass || \"fs-12 text-center\",\r\n              textColorClass || \"color-secondary\"\r\n            )}\r\n          >\r\n            {text}\r\n          </p>\r\n        )}\r\n        {content}\r\n      </DialogContent>\r\n      {buttonText && (\r\n        <DialogActions className={actionClass}>\r\n          <Button\r\n            onClick={handleClick}\r\n            className={classNames(\"font-weight-bold w-100\", buttonClass)}\r\n          >\r\n            {buttonText}\r\n          </Button>\r\n          {onCancel && (\r\n            <Button\r\n              className={classNames(\"font-weight-bold w-100\", buttonClass)}\r\n              onClick={onCancel}\r\n            >\r\n              Batal\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      )}\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nDialogCustom.defaultProps = {\r\n  showCloseButton: false,\r\n  maxWidth: \"sm\",\r\n};\r\n\r\nDialogCustom.propTypes = {\r\n  open: PropTypes.bool,\r\n  handleClose: PropTypes.func,\r\n  title: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n  text: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\r\n  buttonText: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n  backgroundColor: PropTypes.string,\r\n  textColorClass: PropTypes.string,\r\n  showCloseButton: PropTypes.bool,\r\n  onCancel: PropTypes.func,\r\n};\r\n","import DialogCustom from \"./DialogCustom\";\r\nexport default DialogCustom;","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport HelpIcon from \"@material-ui/icons/Help\";\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport DialogCustom from \"components/organism/dialog/DialogCustom\";\r\n\r\nconst useStyles = {\r\n  dialog: {\r\n    maxWidth: 375,\r\n  },\r\n};\r\n\r\nclass RouteLeavingConfirm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modalVisible: false,\r\n    };\r\n    this.isBackButtonClicked = false;\r\n  }\r\n\r\n  static propTypes = {\r\n    acceptLeave: PropTypes.func,\r\n    declineLeave: PropTypes.func,\r\n    showConfirmation: PropTypes.bool,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.history.pushState(null, null, window.location.pathname);\r\n    // window.addEventListener(\"beforeunload\", this.onBeforeUnload);\r\n    window.addEventListener(\"unload\", this.onUnload);\r\n    window.addEventListener(\"popstate\", this.onBackButtonEvent);\r\n  }\r\n\r\n  // onBeforeUnload = (e) => {\r\n  //   // e.preventDefault();\r\n  //   e.returnValue = \"Are you sure to leave?\";\r\n  // };\r\n\r\n  onBackButtonEvent = (e) => {\r\n    e.preventDefault();\r\n    if (!this.isBackButtonClicked && this.props.showConfirmation) {\r\n      this.setState({ modalVisible: true });\r\n    } else {\r\n      if (this.props.acceptLeave) {\r\n        this.props.acceptLeave();\r\n      } else {\r\n        window.history.go(-1);\r\n      }\r\n    }\r\n  };\r\n\r\n  onUnload = (e) => {\r\n    e.preventDefault();\r\n    window.history.go(-1);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    // window.removeEventListener(\"beforeunload\", this.onBeforeUnload);\r\n    window.removeEventListener(\"unload\", this.onUnload);\r\n    window.removeEventListener(\"popstate\", this.onBackButtonEvent);\r\n  }\r\n\r\n  handleModal = () => {\r\n    window.history.pushState(null, null, window.location.pathname);\r\n    this.setState({\r\n      modalVisible: false,\r\n    });\r\n  };\r\n\r\n  handleClick = () => {\r\n    this.isBackButtonClicked = true;\r\n    if (this.props.acceptLeave) {\r\n      this.props.acceptLeave();\r\n    } else {\r\n      window.history.go(-1);\r\n    }\r\n  };\r\n\r\n  handleCancel = () => {\r\n    this.isBackButtonClicked = false;\r\n    this.handleModal();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <DialogCustom\r\n          open={this.state.modalVisible}\r\n          text=\"Apakah Anda yakin akan meninggalkan halaman ini?\"\r\n          buttonText=\"OK\"\r\n          title={<HelpIcon className=\"color-primary fs-40\" />}\r\n          titleClass=\"text-center mb-3\"\r\n          actionClass=\"p-0\"\r\n          textClass=\"fs-14 text-center mb-3\"\r\n          buttonClass=\"py-3 br-unset\"\r\n          handleClose={this.handleModal}\r\n          onCancel={this.handleCancel}\r\n          onClick={this.handleClick}\r\n          className={this.props.classes.dialog}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nRouteLeavingConfirm.defaultProps = {\r\n  showConfirmation: true,\r\n};\r\n\r\nexport default withStyles(useStyles)(RouteLeavingConfirm);\r\n","import React from \"react\";\r\nimport PrivateRouter from \"./PrivateRoute\";\r\nimport PublicRouter from \"./PublicRoute\";\r\nimport withDialog from \"container/template/withDialog\";\r\nimport RouteLeavingConfirm from \"./RouteLeavingConfirm\";\r\n\r\nconst obj = {\r\n  public: PublicRouter,\r\n  private: PrivateRouter,\r\n};\r\n\r\nconst RouterCollection = ({ item, dialogSetup, ...rest }) => {\r\n  const { component: Component, type, showLeaveConfirm, manualLeave } = item;\r\n  const [state, setState] = React.useState(null);\r\n  const Router = obj[type];\r\n  const acceptLeave = (func) => {\r\n    setState(() => func);\r\n  };\r\n  const otherProps = {\r\n    dialogSetup,\r\n    acceptLeave,\r\n  };\r\n  return (\r\n    <Router {...rest}>\r\n      {showLeaveConfirm && (\r\n        <RouteLeavingConfirm acceptLeave={manualLeave ? state : null} />\r\n      )}\r\n      <Component {...otherProps} />\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default withDialog(RouterCollection);\r\n","import React from \"react\";\r\nimport \"./asset/styles/common.scss\";\r\nimport { BrowserRouter as Router, Switch } from \"react-router-dom\";\r\nimport pages from \"container/page\";\r\nimport RouterCollection from \"config/router/RouterCollection\";\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <Switch>\r\n          {pages.map((item, id) => (\r\n            <RouterCollection exact path={item.path} key={id} item={item} />\r\n          ))}\r\n        </Switch>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { store, persistor } from \"./config/redux/store\";\r\nimport { Provider } from \"react-redux\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <PersistGate persistor={persistor}>\r\n      <App />\r\n    </PersistGate>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n// serviceWorker.unregister();\r\n"],"sourceRoot":""}