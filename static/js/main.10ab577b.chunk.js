(this["webpackJsonpbasic-setup"]=this["webpackJsonpbasic-setup"]||[]).push([[0],{249:function(e,t){},289:function(e,t,a){e.exports=a(379)},294:function(e,t,a){},342:function(e,t,a){},354:function(e,t,a){},355:function(e,t,a){},373:function(e,t,a){},374:function(e,t,a){},375:function(e,t,a){},376:function(e,t,a){},377:function(e,t,a){},379:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"doLogin",(function(){return ce})),a.d(n,"doLogout",(function(){return le}));var s={};a.r(s),a.d(s,"joinRoom",(function(){return pe})),a.d(s,"endCall",(function(){return me}));var r=a(0),o=a.n(r),i=a(15),c=a.n(i),l=a(16),u=a(17),p=a(19),m=a(18),d=(a(294),a(78)),b=a(23),h=a(43),f=a(6),v=a(28),y=a(438),E=a(421),g=a(436),O=a(440),k=a(427),j=a(428),S={wrapper:{width:500,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",border:"1px solid black",display:"flex",flexDirection:"column",padding:20},circular:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}},C=a(30),w=a(10),N=function(e){return{type:"ROOM_P_RD",payload:e}},_=a(176),x=(Object(_.a)((function(e){return e.stateReducer.tmp_result}),(function(e,t){return t}),(function(e,t,a){var n=e.filter((function(e){return e.key===t}));return n.length>0?n[0]:null})),Object(_.a)((function(e){return e.stateReducer.loading_stack}),(function(e,t){return t}),(function(e,t){return e.includes(t)}))),R=a(96),D=a(247),L=a(184),A=a(248),T=a.n(A),I={login_status:!1,key:""},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_RD":return Object(f.a)(Object(f.a)({},e),t.payload);case"LOGOUT_RD":return Object(f.a)(Object(f.a)({},e),I);default:return e}},H=a(11),M={loading_stack:[],tmp_result:[]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STATE_RD":return Object(f.a)(Object(f.a)({},e),t.payload);case"SET_LOADING_RD":return Object(f.a)(Object(f.a)({},e),{},{loading_stack:[].concat(Object(H.a)(e.loading_stack),[t.payload])});case"LOADING_DONE_RD":return Object(f.a)(Object(f.a)({},e),{},{loading_stack:e.loading_stack.filter((function(e){return e!==t.payload}))});case"SET_TMP_RD":return Object(f.a)(Object(f.a)({},e),{},{tmp_result:[].concat(Object(H.a)(e.tmp_result),[t.payload])});case"REMOVE_TMP_RD":return Object(f.a)(Object(f.a)({},e),{},{tmp_result:e.tmp_result.filter((function(e){return e.key!==t.payload}))});case"LOGOUT_RD":return Object(f.a)(Object(f.a)({},e),M);default:return e}},U=a(21),W=a.n(U),z=a(51),K=a(177),V=a.n(K),J=a(97),G=a.n(J),Q="http://e-learning.syailendra.xyz/api/",F="login",q="opentok/userlogin",X=function(e){return{type:"SET_LOADING_RD",payload:e}},Y=function(e){return{type:"LOADING_DONE_RD",payload:e}},Z=function(e){return{type:"SET_TMP_RD",payload:e}},$=function(e){return{type:"REMOVE_TMP_RD",payload:e}},ee=a(55);function te(e){return!0}for(var ae=function(){var e=Object(z.a)(W.a.mark((function e(t,a){var n,s,r,o,i,c,l,u=arguments;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>2&&void 0!==u[2]?u[2]:"default",s=u.length>3&&void 0!==u[3]&&u[3],r=3e4,o=new FormData,null===a){e.next=8;break}Object.keys(a).forEach((function(e){Array.isArray(a[e])?a[e].forEach((function(t){o.append(e,t)})):o.append(e,a[e])})),e.next=10;break;case 8:throw{message:"require data to post"}.message;case 10:return i=G.a.get(Ce.getState().authReducer.key),console.log("call: ",Q+t),c=[],Ce.dispatch(X(n)),e.prev=14,e.next=17,V.a.post(t,o,{headers:{Authorization:"Bearer ".concat(i)},validateStatus:te,baseURL:Q,timeout:r});case 17:return l=e.sent,c.push(Y(n)),e.abrupt("return",ne(l,n,c,s));case 22:e.prev=22,e.t0=e.catch(14),re(e.t0,n,r);case 25:case"end":return e.stop()}}),e,null,[[14,22]])})));return function(t,a){return e.apply(this,arguments)}}(),ne=function(e,t,a,n){if(500!==e.status)return se(e.data,t,a,n);console.log("server error"),a.push(Z({status:!1,key:"server_error",msg:"Server Error",data:null})),Ce.dispatch(Object(ee.a)(a))},se=function(e,t,a,n){if(401!==e.status){if(e.status)return n&&a.push(Z({status:!0,key:t,msg:e.messages,data:e})),console.log("response: ",e),{response:e,actions:a};throw console.log("response err: ",e),a.push(Z({status:!1,key:t,msg:e.messages,data:e})),{response:e,actions:a}}a.push(Z({status:!1,key:"session_timeout",msg:"Session timeout",data:null})),Ce.dispatch(Object(ee.a)(a))},re=function(e,t,a){var n=JSON.parse(JSON.stringify(e));if(n.hasOwnProperty("stack")){var s=n.message,r=[Y(t)];throw s!=="timeout of ".concat(a,"ms exceeded")&&"Network Error"!==s||r.push(Z({status:!1,key:"network_error",msg:s,data:n})),{response:"network error",actions:r}}throw e.actions.push(Y(t)),e},oe=a(420),ie=a(437),ce=Object(oe.a)({type:"LOGIN_LC",latest:!0,validate:function(e,t,a){var n=e.action,s=n.payload,r=s.email,o=s.password;""===r||""===o?a(n):t(n)},process:function(e,t,a){var n=e.action;ae(F,n.payload,"login_lc",!0).then((function(e){var a=e.response,n=e.actions;console.log(a);var s,r=Object(ie.a)();t(Object(ee.a)([].concat(Object(H.a)(n),[(s={login_status:!0,key:r},{type:"AUTH_RD",payload:s})]))),G.a.set(r,a.data.access_token,{expires:1})})).catch((function(e){var a=e.response,n=e.actions;t(Object(ee.a)(n)),console.log(a)})).then(a)}}),le=Object(oe.a)({type:"LOGOUT_LC",latest:!0,validate:function(e,t,a){var n=e.getState,s=e.action;n().authReducer.login_status?t(s):a(s)},process:function(e,t,a){e.action;var n=(0,e.getState)().authReducer.key.key;G.a.remove(n),t({type:"LOGOUT_RD"}),a()}}),ue=a(249),pe=Object(oe.a)({type:"JOIN_LC",latest:!0,validate:function(e,t,a){var n=e.action,s=n.payload,r=s.opentok_room_id,o=s.password,i=s.name,c=s.role;""===r||""===o||""===i||""===c?a(n):t(n)},process:function(e,t,a){var n=e.action;ae(q,n.payload,"join_lc",!0).then((function(e){var a=e.response,s=e.actions;t(Object(ee.a)([].concat(Object(H.a)(s),[N({sessionId:a.data.session_id,token:a.data.participant.token,name:n.payload.name,role:n.payload.role})])))})).catch((function(e){var a=e.response,n=e.actions;t(Object(ee.a)(n)),console.log(a)})).then(a)}}),me=Object(oe.a)({type:"END_CALL_LC",latest:!0,process:function(e,t,a){var n=e.action;null!==n.payload&&n.payload.session.disconnect(),t({type:"END_CALL_RD"}),n.payload.push(),a()}}),de=[Object.values(n),Object.values(ue),Object.values(s)],be=a(435),he={speakerStream:null,moderatorStream:null,session:null,subs:[],connectionStatus:!1},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ROOW_RD":return Object(f.a)(Object(f.a)({},e),t.payload);case"END_CALL_RD":return Object(f.a)(Object(f.a)({},e),he);default:return e}},ve={sessionId:"",token:"",apiKey:"46902654",name:"",role:"moderator",videoSelected:null,audioSelected:null,messages:[],title:"Sample Web RTC"},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ROOM_P_RD":return Object(f.a)(Object(f.a)({},e),t.payload);case"ADD_MESSAGE_RD":return Object(f.a)(Object(f.a)({},e),{},{messages:[].concat(Object(H.a)(e.messages),[t.payload])});case"END_CALL_RD":return Object(f.a)(Object(f.a)({},e),{},{sessionId:"",token:"",apiKey:"46902654",name:"",role:"moderator",videoSelected:null,audioSelected:null,messages:[],title:"Sample Web RTC"});default:return e}},Ee=[],ge=0;ge<de.length;ge++)Ee.push(Object(be.a)(de[ge]));var Oe,ke=Object(C.combineReducers)({authReducer:P,stateReducer:B,roomReducer:fe,roomPersistReducer:ye}),je={key:"93F35B4973155",storage:T.a,whitelist:["authReducer","roomPersistReducer"]},Se=Object(L.a)(je,ke),Ce=Object(C.createStore)(Object(ee.b)(Se),Object(C.compose)(C.applyMiddleware.apply(void 0,Ee),Object(D.composeWithDevTools)(Object(C.applyMiddleware)()))),we=Object(L.b)(Ce),Ne={getSpesificTmp:function(e,t){for(var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=null,s=0;s<e.length;s++)if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(e[s].key===t[r]){n=Object(f.a)({},e[s]),a&&Ce.dispatch($(n.key));break}}else if(e[s].key===t){n=Object(f.a)({},e[s]),a&&Ce.dispatch($(n.key));break}return n}},_e=Object(C.compose)(Object(w.b)((function(e){return{loading:x(e,"join_lc"),tmp_result:e.stateReducer.tmp_result}}),{join_lc:function(e){return{type:"JOIN_LC",payload:e}}}))((function(e){var t=Object(E.a)(S),a=Object(b.g)(),n=t(),s=Object(R.a)(),r=s.handleSubmit,i=s.register,c=o.a.useState({role:"moderator"}),l=Object(v.a)(c,2),u=l[0],p=l[1];o.a.useEffect((function(){var t=Ne.getSpesificTmp(e.tmp_result,"join_lc");null!==t&&t.status&&a.push("/room")}),[a,e.tmp_result]);return o.a.createElement("form",{onSubmit:r((function(t,a){e.dialogSetup({alertAppear:!1,nameKey:"join_lc",removeTmp:!1}),e.join_lc(Object(f.a)(Object(f.a)({},t),u))}))},o.a.createElement("div",{className:n.wrapper},o.a.createElement("p",{className:"fs-24 fw-600"},"Join Room"),o.a.createElement(y.a,{placeholder:"room id",variant:"outlined",type:"text",name:"opentok_room_id",className:"mb-3",inputRef:i}),o.a.createElement(y.a,{placeholder:"password",variant:"outlined",type:"password",name:"password",className:"mb-3",inputRef:i}),o.a.createElement(y.a,{placeholder:"name",variant:"outlined",type:"text",name:"name",className:"mb-3",inputRef:i}),o.a.createElement(g.a,{variant:"outlined",value:u.role,className:"mb-3",fullWidth:!0,name:"role",onChange:function(e){var t=e.target,a=t.value,n=t.name;p(Object(f.a)(Object(f.a)({},u),{},Object(h.a)({},n,a)))}},o.a.createElement(O.a,{value:"moderator"},"Moderator"),o.a.createElement(O.a,{value:"participant"},"Participant"),o.a.createElement(O.a,{value:"speaker"},"Speaker")),o.a.createElement(k.a,{disabled:e.loading,color:"primary",variant:"contained",type:"submit",className:"position-relative"},e.loading&&o.a.createElement(j.a,{size:20,className:n.circular}),"Login")))})),xe={wrapper:{width:500,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",border:"1px solid black",display:"flex",flexDirection:"column",padding:20},circular:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}},Re=Object(C.compose)(Object(w.b)((function(e){return{loading:x(e,"login_lc")}}),{login_lc:function(e){return{type:"LOGIN_LC",payload:e}}}))((function(e){var t=Object(E.a)(xe)();console.log(window.screen.availWidth,window.screen.availHeight);var a=Object(R.a)(),n=a.handleSubmit,s=a.register;return o.a.createElement("form",{onSubmit:n((function(t,a){e.dialogSetup({alertAppear:!1,nameKey:"login_lc",removeTmp:!0}),e.login_lc(Object(f.a)({},t))}))},o.a.createElement("div",{className:t.wrapper},o.a.createElement("p",{className:"fs-24 fw-600"},"Login"),o.a.createElement(y.a,{placeholder:"Email",variant:"outlined",type:"email",name:"email",className:"mb-3",inputRef:s}),o.a.createElement(y.a,{placeholder:"Password",variant:"outlined",type:"password",name:"password",className:"mb-3",inputRef:s}),o.a.createElement(k.a,{disabled:e.loading,color:"primary",variant:"contained",type:"submit",className:"position-relative"},e.loading&&o.a.createElement(j.a,{size:20,className:t.circular}),"Login")))})),De=Object(w.b)(null,{set_tmp_rd:Z})((function(e){var t=Object(b.g)(),a=function(){t.replace("/other")};return o.a.useEffect((function(){e.acceptLeave(a),e.dialogSetup({alertAppear:!1,nameKey:"example",removeTmp:!0})}),[]),o.a.createElement("div",null,o.a.createElement("h1",null,"Other2Page"),o.a.createElement("button",{onClick:function(){t.goBack()}},"link"),o.a.createElement("button",{onClick:function(){e.set_tmp_rd({status:!1,key:"example",msg:"lorem ipsum",data:null})}},"modal"))})),Le=a(429),Ae=a(441),Te=a(430),Ie=a(431),Pe=Oe=o.a.createContext(),He=Pe.Provider,Me=(Pe.Consumer,function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleClick=function(e){switch(e){case"listQuestion":n.setState({showListQuestion:!n.state.showListQuestion});break;case"listSubs":n.setState({showListSubs:!n.state.showListSubs});break;case"audioSelf":n.setState({publishAudio:!n.state.publishAudio});break;case"videoSelf":n.setState({publishVideo:!n.state.publishVideo});break;case"screenShare":n.setState({screenShare:!n.state.screenShare});break;case"showDevices":n.setState({showDevices:!n.state.showDevices});break;case"showSendMessage":n.setState({showSendMessage:!n.state.showSendMessage});break;case"end":n.props.end_call_lc({session:n.props.session,push:function(){n.props.history.push("/")}});break;default:return}},n.state={showListQuestion:!1,showListSubs:!0,showSendMessage:!1,publishAudio:!0,publishVideo:!0,screenShare:!1,showDevices:!1},n}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement(He,{value:Object(f.a)(Object(f.a)({},this.state),{},{handleClick:this.handleClick})},this.props.children)}}]),a}(o.a.Component)),Be=Object(C.compose)(Object(w.b)((function(e){return{session:e.roomReducer.session}}),{end_call_lc:function(e){return{type:"END_CALL_LC",payload:e}}}),b.h)(Me),Ue=a(114),We=a.n(Ue),ze=Object(w.b)(null,{room_p_rd:N})((function(e){var t=o.a.useContext(Oe),a=t.handleClick,n=t.showDevices,s=o.a.useState({video:[],audio:[],videoSelected:"",audioSelected:""}),r=Object(v.a)(s,2),i=r[0],c=r[1],l=i.video,u=i.audio,p=i.videoSelected,m=i.audioSelected,d=function(e){var t=e.target,a=t.value,n=t.name;c(Object(f.a)(Object(f.a)({},i),{},Object(h.a)({},n,a)))};return o.a.useEffect((function(){n&&(console.log("tes"),We.a.getDevices((function(e,t){var a=t.filter((function(e){return"videoInput"===e.kind})),n=t.filter((function(e){return"audioInput"===e.kind}));c((function(e){return Object(f.a)(Object(f.a)({},e),{},{video:a,audio:n,once:!1})})),""===p&&c((function(e){return Object(f.a)(Object(f.a)({},e),{},{videoSelected:a[0].deviceId})})),""===m&&c((function(e){return Object(f.a)(Object(f.a)({},e),{},{audioSelected:n[0].deviceId})}))})))}),[n,p,m]),o.a.createElement(Le.a,{open:n,onClose:function(){return a("showDevices")},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0},o.a.createElement(Ae.a,{id:"alert-dialog-title"},"Change Devices?"),o.a.createElement(Te.a,{className:"d-flex flex-column"},o.a.createElement(g.a,{variant:"outlined",className:"mb-4",fullWidth:!0,value:p,name:"videoSelected",onChange:d},l.map((function(e,t){return o.a.createElement(O.a,{value:e.deviceId,key:t},e.label)}))),o.a.createElement(g.a,{variant:"outlined",className:"mb-3",fullWidth:!0,value:m,name:"audioSelected",onChange:d},u.map((function(e,t){return o.a.createElement(O.a,{value:e.deviceId,key:t},e.label)})))),o.a.createElement(Ie.a,null,o.a.createElement(k.a,{color:"primary",onClick:function(){return a("showDevices")}},"Cancel"),o.a.createElement(k.a,{color:"primary",autoFocus:!0,onClick:function(){e.room_p_rd({videoSelected:p,audioSelected:m}),a("showDevices")}},"Save")))})),Ke=Object(w.b)((function(e){return{session:e.roomReducer.session,name:e.roomPersistReducer.name}}))((function(e){var t=e.session,a=e.name,n=o.a.useContext(Oe),s=n.handleClick,r=n.showSendMessage,i=Object(R.a)(),c=i.register,l=i.handleSubmit;return o.a.createElement(Le.a,{open:r,onClose:function(){return s("showSendMessage")},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0},o.a.createElement(Ae.a,{id:"alert-dialog-title"},"Send Message"),o.a.createElement("form",{onSubmit:l((function(e){t.signal({data:JSON.stringify({name:a,message:"tes123"}),type:"message"},(function(e){e?console.log("signal error :",e):(console.log("signal send"),s("showSendMessage"))})),console.log(e)}))},o.a.createElement(Te.a,null,o.a.createElement(y.a,{placeholder:"Message",variant:"outlined",multiline:!0,rows:4,fullWidth:!0,name:"message",inputRef:c})),o.a.createElement(Ie.a,null,o.a.createElement(k.a,{onClick:function(){return s("showSendMessage")},color:"primary"},"Cancel"),o.a.createElement(k.a,{color:"primary",autoFocus:!0,type:"submit"},"Send"))))})),Ve=(a(342),a(44)),Je=a.n(Ve),Ge=a(256),Qe=a.n(Ge),Fe=a(432),qe=a(155),Xe=(a(243),a(119)),Ye=a.n(Xe),Ze=Object(w.b)((function(e){return{subs:e.roomReducer.subs,title:e.roomPersistReducer.title,role:e.roomPersistReducer.role,name:e.roomPersistReducer.name}}))((function(e){var t=o.a.useContext(Oe).showListSubs;return o.a.createElement("div",{className:Je()("participant-wrapper",!t&&"hide")},o.a.createElement("div",{className:"d-flex p-3 flex-nowrap"},o.a.createElement(Qe.a,{className:"title-icon mr-2"}),o.a.createElement("p",{className:"mb-0 fs-16 fw-600 text-nowrap"},e.title)),o.a.createElement(Fe.a,{className:"mb-3"}),o.a.createElement(qe.a,{className:"participant-list-wrapper"},0===e.subs.length?"participant"!==e.role?o.a.createElement("p",{className:"text-center fs-14 text-nowrap"},"No one's here"):o.a.createElement("div",{className:"d-flex align-items-center mb-2 px-3"},o.a.createElement(Ye.a,{className:"mr-2"}),o.a.createElement("p",{className:"mb-0 fs-16"},e.name)):e.subs.map((function(e){var t=JSON.parse(e.connection.data);return o.a.createElement("div",{className:"d-flex align-items-center mb-2 px-3",key:e.id},o.a.createElement(Ye.a,{className:"mr-2"}),o.a.createElement("p",{className:"mb-0 fs-16"},t.name))}))))})),$e=(a(354),a(442)),et=a(434),tt=a(433),at=a(257),nt=a.n(at),st=function(e){var t=e.item;return o.a.createElement(tt.a,{className:"w-100 px-3 py-2 mb-3"},o.a.createElement("div",{className:"d-flex justify-content-between align-items-center mb-2"},o.a.createElement("div",{className:"d-flex"},o.a.createElement(Ye.a,{className:"mr-2"}),o.a.createElement("p",{className:"mb-0"},t.name)),o.a.createElement(et.a,{size:"small"},o.a.createElement(nt.a,null))),o.a.createElement("p",{className:"mb-1 fs-13"},t.message),o.a.createElement("div",{className:"text-right"},o.a.createElement(k.a,{className:""},"More")))},rt=a(258),ot=a.n(rt),it=Object(w.b)((function(e){return{messages:e.roomPersistReducer.messages}}))((function(e){var t=e.messages,a=o.a.useContext(Oe),n=a.showListQuestion,s=a.handleClick;return o.a.createElement($e.a,{anchor:"right",open:n,onClose:function(){return s("listQuestion")}},o.a.createElement("div",{className:"quest-wrapper"},o.a.createElement("div",{className:"p-3 d-flex align-items-center"},o.a.createElement(et.a,{size:"small",className:"mr-3",onClick:function(){return s("listQuestion")}},o.a.createElement(ot.a,null)),o.a.createElement("p",{className:"mb-0 fs-16 fw-600"},"Questions")),o.a.createElement(Fe.a,{className:"mb-3"}),o.a.createElement(qe.a,{className:"quest-list-wrapper"},0===t.length?o.a.createElement("p",{className:"text-center fs-14"},"No messages"):t.map((function(e,t){return o.a.createElement(st,{item:e,key:t})})))))})),ct=(a(355),function(e){var t=e.children;return o.a.createElement("div",{className:"subs-frame"},t)}),lt=a(3),ut=a.n(lt);function pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.apiKey,a=e.sessionId,n=e.token,s=e.onStreamsUpdated,r=e.onSignalUpdated,o=e.onConnect,i=e.onError,c=e.options;if(!t)throw new Error("Missing apiKey");if(!a)throw new Error("Missing sessionId");if(!n)throw new Error("Missing token");var l=[],u=function(e){l.findIndex((function(t){return t.id===e.stream.id}))<0&&(l.push(e.stream),s(l))},p=function(e){var t=l.findIndex((function(t){return t.id===e.stream.id}));t>=0&&(l.splice(t,1),s(l))},m=function(e){r(e)},d={streamCreated:u,streamDestroyed:p,signal:m},b=We.a.initSession(t,a,c);return b.on(d),b.connect(n,(function(e){b&&(e&&"function"===typeof i?i(e):e||"function"!==typeof o||o())})),{session:b,streams:l,disconnect:function(){b&&(b.off(d),b.disconnect()),l=null,u=null,p=null,m=null,d=null,b=null,this.session=null,this.streams=null}}}var mt=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={streams:[]},n}return Object(u.a)(a,[{key:"getChildContext",value:function(){return{session:this.sessionHelper.session,streams:this.state.streams}}},{key:"componentWillMount",value:function(){this.createSession()}},{key:"componentDidUpdate",value:function(e){e.apiKey===this.props.apiKey&&e.sessionId===this.props.sessionId&&e.token===this.props.token||this.createSession()}},{key:"componentWillUnmount",value:function(){this.destroySession()}},{key:"createSession",value:function(){var e=this;this.destroySession(),this.sessionHelper=pt({apiKey:this.props.apiKey,sessionId:this.props.sessionId,token:this.props.token,onStreamsUpdated:function(t){e.setState({streams:t})},onConnect:this.props.onConnect,onError:this.props.onError,options:this.props.options}),this.props.eventHandlers&&"object"===typeof this.props.eventHandlers&&this.sessionHelper.session.on(this.props.eventHandlers);var t=this.sessionHelper.streams;this.setState({streams:t})}},{key:"destroySession",value:function(){this.sessionHelper&&(this.props.eventHandlers&&"object"===typeof this.props.eventHandlers&&this.sessionHelper.session.off(this.props.eventHandlers),this.sessionHelper.disconnect())}},{key:"render",value:function(){return o.a.createElement("div",null,this.props.children)}}]),a}(r.Component);mt.defaultProps={eventHandlers:null,onConnect:null,onError:null,options:{}},mt.childContextTypes={streams:ut.a.arrayOf(ut.a.object),session:ut.a.shape({subscribe:ut.a.func,unsubscribe:ut.a.func})};var dt=a(259),bt=a.n(dt),ht=a(183),ft=a(114),vt=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e,n){var s;return Object(l.a)(this,a),(s=t.call(this,e)).sessionConnectedHandler=function(){s.publishToSession(s.state.publisher)},s.streamCreatedHandler=function(e){s.setState({lastStreamId:e.stream.id})},s.state={publisher:null,lastStreamId:"",session:e.session||n.session||null},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.createPublisher()}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=function(e,t){return void 0===e?t:e},s=function(t,s){return n(e.properties[t],s)!==n(a.props.properties[t],s)},r=function(e,t){if(s(e,t)){var r=n(a.props.properties[e],t);a.state.publisher[e](r)}};if(s("videoSource",void 0))return this.destroyPublisher(),void this.createPublisher();r("publishAudio",!0),r("publishVideo",!0),this.state.session!==t.session&&(this.destroyPublisher(t.session),this.createPublisher())}},{key:"componentWillUnmount",value:function(){this.state.session&&this.state.session.off("sessionConnected",this.sessionConnectedHandler),this.destroyPublisher()}},{key:"getPublisher",value:function(){return this.state.publisher}},{key:"destroyPublisher",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.session;delete this.publisherId,this.state.publisher&&(this.state.publisher.off("streamCreated",this.streamCreatedHandler),this.props.eventHandlers&&"object"===typeof this.props.eventHandlers&&this.state.publisher.once("destroyed",(function(){e.state.publisher.off(e.props.eventHandlers)})),t&&t.unpublish(this.state.publisher),this.state.publisher.destroy())}},{key:"publishToSession",value:function(e){var t=this,a=this.publisherId;this.state.session.publish(e,(function(e){a===t.publisherId&&(e?t.errorHandler(e):"function"===typeof t.props.onPublish&&t.props.onPublish())}))}},{key:"createPublisher",value:function(){var e=this;if(this.state.session){var t,a=this.props.properties||{};!1!==a.insertDefaultUI&&((t=document.createElement("div")).setAttribute("class","OTPublisherContainer"),this.node.appendChild(t)),this.publisherId=Object(ie.a)();var n=this.publisherId;this.errorHandler=bt()((function(t){n===e.publisherId&&"function"===typeof e.props.onError&&e.props.onError(t)}));var s=ft.initPublisher(t,a,(function(t){n===e.publisherId&&(t?e.errorHandler(t):"function"===typeof e.props.onInit&&e.props.onInit())}));if(s.on("streamCreated",this.streamCreatedHandler),this.props.eventHandlers&&"object"===typeof this.props.eventHandlers){var r=Object(ht.omitBy)(ht.isNil)(this.props.eventHandlers);s.on(r)}this.state.session.connection?this.publishToSession(s):this.state.session.once("sessionConnected",this.sessionConnectedHandler),this.setState({publisher:s,lastStreamId:""})}else this.setState({publisher:null,lastStreamId:""})}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.style;return o.a.createElement("div",{className:a,style:n,ref:function(t){e.node=t}})}}]),a}(r.Component);vt.defaultProps={session:null,className:"",style:{},properties:{},eventHandlers:null,onInit:null,onPublish:null,onError:null},vt.contextTypes={session:ut.a.shape({connection:ut.a.shape({connectionId:ut.a.string}),once:ut.a.func,off:ut.a.func,publish:ut.a.func,unpublish:ut.a.func})};var yt=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"getChildContext",value:function(){return{stream:this.props.stream}}},{key:"render",value:function(){return o.a.createElement("div",null,this.props.children)}}]),a}(r.Component);function Et(e,t){var a=e.session||t.session||null,n=e.streams||t.streams||null;if(!a)return o.a.createElement("div",null);var s=r.Children.only(e.children),i=Array.isArray(n)?n.map((function(e){return s?o.a.createElement(yt,{stream:e,key:e.id},Object(r.cloneElement)(s)):s})):null;return o.a.createElement("div",null,i)}yt.childContextTypes={stream:ut.a.shape({streamId:ut.a.string})},Et.defaultProps={session:null,streams:null},Et.contextTypes={session:ut.a.shape({publish:ut.a.func,subscribe:ut.a.func}),streams:ut.a.arrayOf(ut.a.object)};var gt=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e,n){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={subscriber:null,stream:e.stream||n.stream||null,session:e.session||n.session||null,currentRetryAttempt:0},s.maxRetryAttempts=e.maxRetryAttempts||5,s.retryAttemptTimeout=e.retryAttemptTimeout||1e3,s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.createSubscriber()}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=function(e,t,a){return void 0===e?a:t(e)},s=function(t){var s=n(e.properties[t],Boolean,!0),r=n(a.props.properties[t],Boolean,!0);s!==r&&a.state.subscriber[t](r)};s("subscribeToAudio"),s("subscribeToVideo"),t.session===this.state.session&&t.stream===this.state.stream||(this.destroySubscriber(t.session),this.createSubscriber())}},{key:"componentWillUnmount",value:function(){this.destroySubscriber()}},{key:"getSubscriber",value:function(){return this.state.subscriber}},{key:"createSubscriber",value:function(){var e=this;if(this.state.session&&this.state.stream){var t;!1!==(this.props.properties||{}).insertDefaultUI&&((t=document.createElement("div")).setAttribute("class","OTSubscriberContainer"),this.node.appendChild(t)),this.subscriberId=Object(ie.a)();var a=this.subscriberId,n=this.state.session.subscribe(this.state.stream,t,this.props.properties,(function(t){a===e.subscriberId&&(t&&e.props.retry&&e.state.currentRetryAttempt<e.maxRetryAttempts-1&&e.handleRetrySubscriber(),t&&"function"===typeof e.props.onError?e.props.onError(t):t||"function"!==typeof e.props.onSubscribe||e.props.onSubscribe())}));this.props.eventHandlers&&"object"===typeof this.props.eventHandlers&&n.on(this.props.eventHandlers),this.setState({subscriber:n})}else this.setState({subscriber:null})}},{key:"handleRetrySubscriber",value:function(){var e=this;setTimeout((function(){e.setState((function(e){return{currentRetryAttempt:e.currentRetryAttempt+1,subscriber:null}})),e.createSubscriber()}),this.retryAttemptTimeout)}},{key:"destroySubscriber",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.session;delete this.subscriberId,this.state.subscriber&&(this.props.eventHandlers&&"object"===typeof this.props.eventHandlers&&this.state.subscriber.once("destroyed",(function(){e.state.subscriber.off(e.props.eventHandlers)})),t&&t.unsubscribe(this.state.subscriber))}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.style;return o.a.createElement("div",{className:a,style:n,ref:function(t){e.node=t}})}}]),a}(r.Component);gt.defaultProps={stream:null,session:null,className:"",style:{},properties:{},retry:!1,maxRetryAttempts:5,retryAttemptTimeout:1e3,eventHandlers:null,onSubscribe:null,onError:null},gt.contextTypes={stream:ut.a.shape({streamId:ut.a.string}),session:ut.a.shape({subscribe:ut.a.func,unsubscribe:ut.a.func})};var Ot=a(70);a(260),a(261);a(373);var kt=a(262),jt=a.n(kt),St=function(e){var t=e.connected,a=e.iconClassName;return o.a.createElement("div",{className:"no-video"},o.a.createElement(jt.a,{className:Je()("text-white",a)}),!t&&o.a.createElement("p",{"data-test":"connecting-text",className:"mb-0 fs-14 text-white"},"Connecting..."))},Ct=(a(374),function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onError=function(e){1500===e.code&&n.context.handleClick("screenShare")},n.eventHandlers={streamDestroyed:function(e){"mediaStopped"===e.reason&&n.context.handleClick("screenShare")}},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.videoSelected,a=e.audioSelected,n=e.connectionStatus;return n?o.a.createElement(vt,{properties:{width:"100%",height:"100%",style:{buttonDisplayMode:"off"},resolution:"1280x720",publishVideo:this.context.publishVideo,publishAudio:this.context.publishAudio,videoSource:this.context.screenShare?"screen":null===t?void 0:t,audioSource:null===a?void 0:a},session:this.props.session,className:"pub-wrapper",onError:this.onError,eventHandlers:this.eventHandlers}):o.a.createElement(St,{iconClassName:"participant"===this.props.role?"":"fs-200",connected:n})}}]),a}(r.Component));Ct.contextType=Oe;var wt=Object(w.b)((function(e){return{videoSelected:e.roomPersistReducer.videoSelected,audioSelected:e.roomPersistReducer.audioSelected,role:e.roomPersistReducer.role,session:e.roomReducer.session,connectionStatus:e.roomReducer.connectionStatus}}))(Ct),Nt=(a(375),Object(w.b)((function(e){return{speakerStream:e.roomReducer.speakerStream,session:e.roomReducer.session,role:e.roomPersistReducer.role}}))((function(e){var t=e.speakerStream,a=e.session,n=e.role;return o.a.createElement("div",{className:"list-speaker-wrapper"},"speaker"===n&&o.a.createElement(ct,null,o.a.createElement(wt,null)),null!==a&&null!==t&&t.map((function(e){return o.a.createElement(ct,{key:e.id},o.a.createElement(gt,{properties:{subscribeToAudio:!0,subscribeToVideo:!0,width:"100%",height:"100%"},session:a,stream:e,retry:!0,maxRetryAttempts:3,retryAttemptTimeout:2e3,className:"w-100 h-100"}))})))}))),_t=(a(376),a(151)),xt=a.n(_t),Rt=a(263),Dt=a.n(Rt),Lt=a(264),At=a.n(Lt),Tt=function(){var e=o.a.useContext(Oe).handleClick;return o.a.createElement("div",{className:"button-group-wrapper"},o.a.createElement(et.a,{size:"small",onClick:function(){return e("listSubs")}},o.a.createElement(xt.a,{className:"icon-button-color"})),o.a.createElement(et.a,{size:"small",onClick:function(){return e("listQuestion")}},o.a.createElement(Dt.a,{className:"icon-button-color mx-2"})),o.a.createElement(et.a,{size:"small",onClick:function(){return e("showDevices")}},o.a.createElement(At.a,{className:"icon-button-color"})))},It=a(265),Pt=a.n(It),Ht=a(266),Mt=a.n(Ht),Bt=a(271),Ut=a.n(Bt),Wt=a(267),zt=a.n(Wt),Kt=a(268),Vt=a.n(Kt),Jt=a(270),Gt=a.n(Jt),Qt=a(269),Ft=a.n(Qt),qt=a(272),Xt=a.n(qt),Yt=function(e){var t=e.icon,a=e.className,n=e.properties,s=e.onClick,r=Object(E.a)({root:{padding:0,height:n.size,minWidth:n.size,backgroundColor:n.backgroundColor+"!important",borderRadius:"50%",transition:"filter 0.5s","&:hover":{filter:"brightness(90%)"}}})();return o.a.createElement(k.a,{variant:"contained",className:Je()(r.root,a),onClick:s},t)};Yt.defaultProps={onClick:function(){return null},properties:{size:64,backgroundColor:"unset"}};var Zt=Yt,$t=function(e){var t=e.onClick,a=e.on,n=e.off,s=e.className,r=e.properties,i=o.a.useState(!0),c=Object(v.a)(i,2),l=c[0],u=c[1];return o.a.createElement(Zt,{onClick:function(){u(!l),t()},icon:l?a:n||a,properties:r,className:s})};$t.defaultProps={onClick:function(){return null},properties:{size:64,backgroundColor:"unset"}};var ea=$t,ta=(a(377),Object(w.b)((function(e){return{role:e.roomPersistReducer.role}}))((function(e){var t=e.role,a=o.a.useContext(Oe).handleClick;return o.a.createElement("div",{className:"main-control-wrapper"},"participant"!==t?o.a.createElement(o.a.Fragment,null,o.a.createElement(ea,{on:o.a.createElement(Pt.a,{className:"color-blue"}),off:o.a.createElement(Mt.a,{className:"color-blue"}),properties:{backgroundColor:"white",size:60},className:"mr-3",onClick:function(){return a("videoSelf")}}),o.a.createElement(ea,{on:o.a.createElement(zt.a,{className:"color-blue"}),off:o.a.createElement(Vt.a,{className:"color-blue"}),className:"mr-3",properties:{backgroundColor:"white",size:60},onClick:function(){return a("audioSelf")}})):o.a.createElement(ea,{on:o.a.createElement(Ft.a,{className:"color-blue"}),className:"mr-3",properties:{backgroundColor:"white",size:60},onClick:function(){return a("showSendMessage")}}),o.a.createElement(ea,{on:o.a.createElement(Gt.a,{className:"text-white"}),className:"mr-3",properties:{backgroundColor:"red",size:60},onClick:function(){return a("end")}}),"participant"!==t?o.a.createElement(ea,{on:o.a.createElement(Ut.a,{className:"color-blue"}),properties:{backgroundColor:"white",size:60},onClick:function(){return a("screenShare")}}):o.a.createElement(ea,{on:o.a.createElement(xt.a,{className:"color-blue"}),properties:{backgroundColor:"white",size:60},onClick:function(){return a("listSubs")}}),"moderator"===t&&o.a.createElement(ea,{on:o.a.createElement(Xt.a,{className:"text-white"}),className:"ml-3",properties:{backgroundColor:"red",size:60}}))}))),aa=Object(w.b)((function(e){return{moderatorStream:e.roomReducer.moderatorStream,session:e.roomReducer.session,role:e.roomPersistReducer.role}}))((function(e){var t=e.session,a=e.moderatorStream;return"moderator"===e.role?o.a.createElement(wt,null):null===a?o.a.createElement(St,{iconClassName:"fs-200"}):null!==t&&o.a.createElement(gt,{properties:{subscribeToAudio:!0,subscribeToVideo:!0,width:"100%",height:"100%"},session:t,stream:null!==a&&a[0],retry:!0,maxRetryAttempts:3,retryAttemptTimeout:2e3,className:"w-100 h-100"})})),na=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.sessionId,a=e.token,n=e.apiKey,s=e.room_rd,r=e.add_message_rd;this.session=pt({apiKey:n,sessionId:t,token:a,onStreamsUpdated:function(e){console.log(e);var t=e.filter((function(e){return"speaker"===JSON.parse(e.connection.data).role})),a=e.filter((function(e){return"moderator"===JSON.parse(e.connection.data).role})),n=e.filter((function(e){return"participant"===JSON.parse(e.connection.data).role}));s({subs:Object(H.a)(n),speakerStream:Object(H.a)(t),moderatorStream:Object(H.a)(a)})},onConnect:function(){s({connectionStatus:!0})},onSignalUpdated:function(e){console.log(e);var t=e.from,a=JSON.parse(e.data),n={name:a.name,message:a.message,from:t};r(n)},onError:function(e){console.log(e)}}),s({session:this.session.session})}},{key:"render",value:function(){return o.a.createElement(Be,null,o.a.createElement("div",{"data-test":"room-container",className:"d-flex"},o.a.createElement(Ze,null),o.a.createElement("div",{className:"position-relative w-100"},o.a.createElement(Nt,null),"participant"!==this.props.role&&o.a.createElement(Tt,null),o.a.createElement("div",{style:{height:"100vh"}},o.a.createElement(aa,null)),o.a.createElement(ta,null)),"participant"!==this.props.role&&o.a.createElement(it,null)),"participant"===this.props.role?o.a.createElement(Ke,null):o.a.createElement(ze,null))}}]),a}(r.Component),sa=[{component:De,path:"/other",type:"public",showLeaveConfirm:!0,manualLeave:!0},{component:Object(w.b)((function(e){return{role:e.roomPersistReducer.role,sessionId:e.roomPersistReducer.sessionId,token:e.roomPersistReducer.token,apiKey:e.roomPersistReducer.apiKey}}),{room_rd:function(e){return{type:"ROOW_RD",payload:e}},add_message_rd:function(e){return{type:"ADD_MESSAGE_RD",payload:e}}})(na),path:"/room",type:"private"},{component:Re,path:"/login",type:"public"},{component:_e,path:"/",type:"private"}],ra=Object(w.b)((function(e){return{login_status:e.authReducer.login_status,token:e.roomPersistReducer.token}}))((function(e){var t=e.children,a=e.login_status,n=e.token,s=Object(Ot.a)(e,["children","login_status","token"]);return o.a.createElement(b.b,Object.assign({},s,{render:function(e){var s=e.location,r=(e.history,s.pathname);return a?"/room"===r&&""===n?o.a.createElement(b.a,{to:"/"}):t:o.a.createElement(b.a,{to:"/login"})}}))})),oa=Object(w.b)((function(e){return{login_status:e.authReducer.login_status}}))((function(e){var t=e.children,a=e.login_status,n=Object(Ot.a)(e,["children","login_status"]);return o.a.createElement(b.b,Object.assign({},n,{render:function(e){e.location,e.history;return a?o.a.createElement(b.a,{to:"/"}):t}}))})),ia=a(273),ca=a.n(ia),la=a(274),ua=a.n(la),pa=function(e){var t=e.buttonText,a=e.alertAppear,n=e.nameKey,s=e.needIcon,r=e.removeTmp,i=Object(w.c)((function(e){return e.stateReducer.tmp_result})),c=o.a.useState({open:!1,msg:"tes123",status:!0}),l=Object(v.a)(c,2),u=l[0],p=l[1];o.a.useEffect((function(){var e=Ne.getSpesificTmp(i,[n,"network_error","server_error","session_timeout"],r);null!==e&&(!a&&!e.status||a&&e.status||"both"===a)&&p((function(t){return Object(f.a)(Object(f.a)({},t),{},{msg:e.msg,open:!0,status:e.status})}))}),[a,n,r,i]);var m=u.open,d=u.msg,b=u.status,h=function(){var e;e=!1,p((function(t){return Object(f.a)(Object(f.a)({},t),{},{open:e})}))};return o.a.createElement(Le.a,{open:m,onClose:h,fullWidth:!0,maxWidth:"xs"},o.a.createElement(Te.a,{dividers:!0},o.a.createElement("div",{className:"text-center w-100"},s&&(b?o.a.createElement(ca.a,{className:"fs-40 mb-3",color:"primary"}):o.a.createElement(ua.a,{className:"fs-40 mb-3",color:"primary"}))),o.a.createElement("p",{className:"fs-16 text-center"},d)),o.a.createElement("div",{className:"text-center py-3"},o.a.createElement(k.a,{variant:"contained",onClick:h,color:"primary"},t)))};pa.defaultProps={buttonText:"OK",alertAppear:!0,nameKey:"",needIcon:!0,removeTmp:!1};var ma=pa,da=function(e){return function(t){Object(p.a)(n,t);var a=Object(m.a)(n);function n(e){var t;return Object(l.a)(this,n),(t=a.call(this,e)).dialogSetup=function(e){t.setState({setup:e})},t.state={setup:{}},t}return Object(u.a)(n,[{key:"render",value:function(){var t=Object(f.a)(Object(f.a)({},this.props),{},{dialogSetup:this.dialogSetup});return o.a.createElement(o.a.Fragment,null,o.a.createElement(e,t),o.a.createElement(ma,this.state.setup))}}]),n}(o.a.Component)},ba=a(276),ha=a.n(ba),fa=a(5),va=a(275),ya=a.n(va),Ea=Object(fa.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Te.a),ga=Object(fa.a)((function(e){return{root:{margin:0,padding:e.spacing(1),justifyContent:"center"}}}))(Ie.a);function Oa(e){var t=e.open,a=e.handleClose,n=e.title,s=e.titleClass,r=e.text,i=e.textClass,c=e.buttonText,l=e.onClick,u=e.backgroundColor,p=e.textColorClass,m=e.content,d=e.showCloseButton,b=e.maxWidth,h=e.className,f=e.modalClass,v=e.actionClass,y=e.buttonClass,g=e.onCancel,O=function(){a(!1)},j=Object(E.a)({root:{"& .MuiDialog-container .MuiPaper-root":{backgroundColor:u||"#fff"}}})();return o.a.createElement(Le.a,{onClose:O,"aria-labelledby":"customized-dialog-title",open:t,className:Je()(j.root,f),maxWidth:b},o.a.createElement(Ea,{dividers:!0,className:h},o.a.createElement("div",{className:Je()(n&&!s&&"mb-3",d&&"d-flex justify-content-between")},n&&o.a.createElement("p",{className:Je()(s||"fs-14 font-weight-bold text-center",p||"color-secondary",i)},n),d&&o.a.createElement(et.a,{onClick:O,size:"small"},o.a.createElement(ya.a,{className:p}))),r&&o.a.createElement("p",{className:Je()(i||"fs-12 text-center",p||"color-secondary")},r),m),c&&o.a.createElement(ga,{className:v},o.a.createElement(k.a,{onClick:function(){l()},className:Je()("font-weight-bold w-100",y)},c),g&&o.a.createElement(k.a,{className:Je()("font-weight-bold w-100",y),onClick:g},"Batal")))}Oa.defaultProps={showCloseButton:!1,maxWidth:"sm"};var ka=Oa,ja=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onBackButtonEvent=function(e){e.preventDefault(),!n.isBackButtonClicked&&n.props.showConfirmation?n.setState({modalVisible:!0}):n.props.acceptLeave?n.props.acceptLeave():window.history.go(-1)},n.onUnload=function(e){e.preventDefault(),window.history.go(-1)},n.handleModal=function(){window.history.pushState(null,null,window.location.pathname),n.setState({modalVisible:!1})},n.handleClick=function(){n.isBackButtonClicked=!0,n.props.acceptLeave?n.props.acceptLeave():window.history.go(-1)},n.handleCancel=function(){n.isBackButtonClicked=!1,n.handleModal()},n.state={modalVisible:!1},n.isBackButtonClicked=!1,n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.history.pushState(null,null,window.location.pathname),window.addEventListener("unload",this.onUnload),window.addEventListener("popstate",this.onBackButtonEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unload",this.onUnload),window.removeEventListener("popstate",this.onBackButtonEvent)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ka,{open:this.state.modalVisible,text:"Apakah Anda yakin akan meninggalkan halaman ini?",buttonText:"OK",title:o.a.createElement(ha.a,{className:"color-primary fs-40"}),titleClass:"text-center mb-3",actionClass:"p-0",textClass:"fs-14 text-center mb-3",buttonClass:"py-3 br-unset",handleClose:this.handleModal,onCancel:this.handleCancel,onClick:this.handleClick,className:this.props.classes.dialog}))}}]),a}(r.Component);ja.defaultProps={showConfirmation:!0};var Sa=Object(fa.a)({dialog:{maxWidth:375}})(ja),Ca={public:oa,private:ra},wa=da((function(e){var t=e.item,a=e.dialogSetup,n=Object(Ot.a)(e,["item","dialogSetup"]),s=t.component,r=t.type,i=t.showLeaveConfirm,c=t.manualLeave,l=o.a.useState(null),u=Object(v.a)(l,2),p=u[0],m=u[1],d=Ca[r],b={dialogSetup:a,acceptLeave:function(e){m((function(){return e}))}};return o.a.createElement(d,n,i&&o.a.createElement(Sa,{acceptLeave:c?p:null}),o.a.createElement(s,b))})),Na=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement(b.d,null,sa.map((function(e,t){return o.a.createElement(wa,{exact:!0,path:e.path,key:t,item:e})}))))}}]),a}(o.a.Component),_a=a(277);a(378);c.a.render(o.a.createElement(w.a,{store:Ce},o.a.createElement(_a.a,{persistor:we},o.a.createElement(Na,null))),document.getElementById("root"))}},[[289,1,2]]]);
//# sourceMappingURL=main.10ab577b.chunk.js.map